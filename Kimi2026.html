<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026å¹´è¯­è¨€å­¦ä¹ æ—¥å† - å…¨å¹´365å¤©ä¸åŒå†…å®¹</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 320px 1fr;
            gap: 20px;
            min-height: 100vh;
        }

        /* å·¦ä¾§å¯¼èˆªé¢æ¿ */
        .nav-panel {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            height: fit-content;
            position: sticky;
            top: 20px;
        }

        /* æœˆä»½é€‰æ‹©å™¨ */
        .month-selector {
            margin-bottom: 20px;
        }

        .month-selector h3 {
            text-align: center;
            color: #667eea;
            margin-bottom: 15px;
            font-size: 18px;
        }

        .month-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin-bottom: 15px;
        }

        .month-btn {
            padding: 10px;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            text-align: center;
        }

        .month-btn:hover {
            border-color: #667eea;
            background: #f0f4ff;
            transform: translateY(-2px);
        }

        .month-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
            font-weight: bold;
        }

        /* å½“æœˆæ—¥å† */
        .current-month-calendar {
            background: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.05);
        }

        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .calendar-title {
            font-size: 16px;
            font-weight: bold;
            color: #667eea;
        }

        .nav-btn {
            background: #667eea;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: #5a67d8;
            transform: scale(1.1);
        }

        .weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 10px;
        }

        .weekday {
            text-align: center;
            font-size: 12px;
            font-weight: bold;
            color: #667eea;
            padding: 5px;
        }

        .days-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            position: relative;
        }

        .day:hover {
            background: #e8ecff;
            transform: scale(1.1);
        }

        .day.today {
            background: #667eea;
            color: white;
            font-weight: bold;
        }

        .day.selected {
            background: #4CAF50;
            color: white;
            font-weight: bold;
        }

        .day.checked {
            background: #4CAF50;
            color: white;
        }

        .day.checked::after {
            content: 'âœ“';
            position: absolute;
            bottom: 2px;
            right: 2px;
            font-size: 10px;
        }

        .day.other-month {
            color: #ccc;
            cursor: default;
        }

        .day.other-month:hover {
            background: transparent;
            transform: none;
        }

        /* è¿›åº¦ä¿¡æ¯ */
        .progress-info {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #e0e0e0;
        }

        .progress-info h4 {
            font-size: 14px;
            margin-bottom: 10px;
            color: #667eea;
        }

        .progress-bar {
            background: #e0e0e0;
            border-radius: 10px;
            height: 8px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            transition: width 0.5s ease;
        }

        .progress-info p {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }

        /* ä¸»å†…å®¹åŒºåŸŸ */
        .main-content {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            overflow-y: auto;
            max-height: calc(100vh - 40px);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        .header h1 {
            font-size: 32px;
            color: #667eea;
            margin-bottom: 10px;
            font-weight: 800;
        }

        .header .date-info {
            font-size: 24px;
            color: #555;
            margin-bottom: 5px;
        }

        .date-subinfo {
            font-size: 16px;
            color: #888;
        }

        .language-tags {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 10px;
            font-size: 14px;
        }

        .tag {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 500;
        }

        /* åè¨€å¡ç‰‡ */
        .quotes-section {
            margin-bottom: 30px;
        }

        .quotes-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .quote-card {
            background: linear-gradient(135deg, #f8f9ff 0%, #e8ecff 100%);
            border-radius: 12px;
            padding: 20px;
            border-left: 5px solid #667eea;
            transition: transform 0.3s ease;
        }

        .quote-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .quote-card.english {
            border-left-color: #FF6B6B;
        }

        .quote-card.japanese {
            border-left-color: #4ECDC4;
        }

        .quote-card.french {
            border-left-color: #FFD166;
        }

        .quote-language {
            font-size: 14px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .quote-language::before {
            content: 'ğŸ’¬';
        }

        .quote-english .quote-language::before { content: 'ğŸ‡¬ğŸ‡§'; }
        .quote-japanese .quote-language::before { content: 'ğŸ‡¯ğŸ‡µ'; }
        .quote-french .quote-language::before { content: 'ğŸ‡«ğŸ‡·'; }

        .quote-text {
            font-size: 16px;
            margin-bottom: 10px;
            font-style: italic;
            color: #333;
        }

        .quote-author {
            font-size: 14px;
            color: #666;
            text-align: right;
            font-weight: 500;
        }

        .quote-translation {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px dashed #ccc;
            font-size: 14px;
            color: #555;
            font-style: italic;
        }

        /* ç»ƒä¹ åŒºåŸŸ */
        .exercises-section {
            margin-bottom: 30px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        .tab {
            padding: 12px 24px;
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            color: #666;
            font-weight: 500;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab:hover {
            color: #667eea;
            transform: translateY(-2px);
        }

        .exercise-content {
            background: #f8f9ff;
            border-radius: 12px;
            padding: 25px;
            min-height: 300px;
        }

        .exercise-title {
            font-size: 18px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exercise-title::before {
            content: 'ğŸ¯';
            font-size: 20px;
        }

        .exercise-description {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }

        .question-text {
            font-size: 16px;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            gap: 10px;
            margin-bottom: 20px;
        }

        .option {
            background: white;
            border: 2px solid #e0e0e0;
            padding: 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 15px;
        }

        .option:hover {
            border-color: #667eea;
            background: #f0f4ff;
            transform: translateX(5px);
        }

        .option.correct {
            border-color: #4CAF50;
            background: #e8f5e9;
            color: #2e7d32;
        }

        .option.incorrect {
            border-color: #f44336;
            background: #ffebee;
            color: #c62828;
        }

        .option.disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }

        .answer-section {
            display: none;
            background: #e8f5e9;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #4CAF50;
        }

        .answer-section.show {
            display: block;
        }

        .answer-title {
            font-weight: bold;
            color: #2e7d32;
            margin-bottom: 8px;
        }

        .input-answer {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            margin-bottom: 15px;
            transition: border-color 0.3s ease;
        }

        .input-answer:focus {
            outline: none;
            border-color: #667eea;
        }

        .submit-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .submit-btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
        }

        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }

        /* åˆ›æ„å†™ä½œ */
        .writing-prompt {
            background: linear-gradient(135deg, #fff9e6 0%, #fff3cd 100%);
            padding: 20px;
            border-radius: 12px;
            border-left: 5px solid #FFD166;
        }

        .writing-prompt h4 {
            color: #b38a00;
            margin-bottom: 10px;
        }

        .writing-textarea {
            width: 100%;
            min-height: 150px;
            padding: 15px;
            border: 2px dashed #FFD166;
            border-radius: 8px;
            font-size: 15px;
            resize: vertical;
            margin: 15px 0;
        }

        .writing-textarea:focus {
            outline: none;
            border-style: solid;
            border-color: #ffb800;
        }

        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1024px) {
            .container {
                grid-template-columns: 1fr;
            }

            .nav-panel {
                position: static;
            }

            .quotes-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            .main-content {
                padding: 20px;
            }

            .header h1 {
                font-size: 24px;
            }

            .header .date-info {
                font-size: 18px;
            }

            .tabs {
                flex-wrap: wrap;
            }

            .tab {
                padding: 8px 16px;
                font-size: 14px;
            }

            .month-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        /* åŠ¨ç”»æ•ˆæœ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        /* æ»šåŠ¨æ¡æ ·å¼ */
        .main-content::-webkit-scrollbar {
            width: 8px;
        }

        .main-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .main-content::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 10px;
        }

        .main-content::-webkit-scrollbar-thumb:hover {
            background: #5a67d8;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å·¦ä¾§å¯¼èˆªé¢æ¿ -->
        <aside class="nav-panel">
            <!-- æœˆä»½é€‰æ‹©å™¨ -->
            <div class="month-selector">
                <h3>ğŸ“… é€‰æ‹©æœˆä»½</h3>
                <div class="month-grid" id="monthGrid">
                    <!-- æœˆä»½æŒ‰é’®å°†é€šè¿‡JSç”Ÿæˆ -->
                </div>
            </div>

            <!-- å½“æœˆæ—¥å† -->
            <div class="current-month-calendar">
                <div class="calendar-header">
                    <button class="nav-btn" onclick="changeMonth(-1)">â€¹</button>
                    <div class="calendar-title" id="calendarTitle">2026å¹´1æœˆ</div>
                    <button class="nav-btn" onclick="changeMonth(1)">â€º</button>
                </div>
                <div class="weekdays" id="weekdays">
                    <!-- æ˜ŸæœŸæ ‡é¢˜å°†é€šè¿‡JSç”Ÿæˆ -->
                </div>
                <div class="days-grid" id="daysGrid">
                    <!-- æ—¥æœŸå°†é€šè¿‡JSç”Ÿæˆ -->
                </div>
            </div>
            
            <!-- è¿›åº¦ä¿¡æ¯ -->
            <div class="progress-info">
                <h4>å­¦ä¹ è¿›åº¦</h4>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
                <p>å·²æ‰“å¡å¤©æ•°ï¼š<span id="checkedDays">0</span> / 365</p>
                <p>è¿ç»­æ‰“å¡ï¼š<span id="streakDays">0</span> å¤©</p>
                <p>å®Œæˆç‡ï¼š<span id="completionRate">0</span>%</p>
            </div>

            <div style="margin-top: 20px; padding: 15px; background: #f0f4ff; border-radius: 8px;">
                <h4 style="font-size: 14px; margin-bottom: 10px;">ğŸ’¡ ä½¿ç”¨æç¤º</h4>
                <ul style="font-size: 12px; color: #666; line-height: 1.5;">
                    <li>â€¢ ç‚¹å‡»æœˆä»½å¿«é€Ÿåˆ‡æ¢</li>
                    <li>â€¢ ä½¿ç”¨ç®­å¤´åˆ‡æ¢ä¸Šä¸‹æœˆ</li>
                    <li>â€¢ ç‚¹å‡»æ—¥æœŸæŸ¥çœ‹å†…å®¹</li>
                    <li>â€¢ ç»¿è‰²âœ“è¡¨ç¤ºå·²æ‰“å¡</li>
                </ul>
            </div>
        </aside>

        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content" id="mainContent">
            <div class="header fade-in">
                <h1>ğŸŒ å¤šè¯­è¨€å­¦ä¹ æ—¥å† 2026</h1>
                <div class="date-info" id="dateInfo">2026å¹´1æœˆ1æ—¥</div>
                <div class="date-subinfo" id="dateSubInfo">
                    <span id="weekdayInfo">æ˜ŸæœŸå››</span> | 
                    <span id="lunarInfo">å†œå†åä¸€æœˆåä¸‰</span>
                </div>
                <div class="language-tags">
                    <span class="tag">ğŸ‡¬ğŸ‡§ è‹±è¯­</span>
                    <span class="tag">ğŸ‡¯ğŸ‡µ æ—¥è¯­</span>
                    <span class="tag">ğŸ‡«ğŸ‡· æ³•è¯­</span>
                </div>
            </div>

            <!-- æ¯æ—¥åè¨€åŒºåŸŸ -->
            <section class="quotes-section fade-in">
                <h2 style="margin-bottom: 20px; color: #667eea;">ğŸ“– æ¯æ—¥åè¨€</h2>
                <div class="quotes-grid" id="quotesGrid">
                    <!-- åè¨€å¡ç‰‡å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </section>

            <!-- ç»ƒä¹ åŒºåŸŸ -->
            <section class="exercises-section fade-in">
                <h2 style="margin-bottom: 20px; color: #667eea;">ğŸ¯ æ¯æ—¥ç»ƒä¹ </h2>
                <div class="tabs">
                    <button class="tab active" onclick="switchTab('japanese')">ğŸ‡¯ğŸ‡µ æ—¥è¯­ç»ƒä¹ </button>
                    <button class="tab" onclick="switchTab('french')">ğŸ‡«ğŸ‡· æ³•è¯­ç»ƒä¹ </button>
                    <button class="tab" onclick="switchTab('writing')">âœï¸ åˆ›æ„å†™ä½œ</button>
                </div>

                <div class="exercise-content" id="exerciseContent">
                    <!-- ç»ƒä¹ å†…å®¹å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </section>
        </main>
    </div>

    <script>
        // å…¨å±€å˜é‡
        let currentDate = new Date(2026, 0, 1); // é»˜è®¤2026å¹´1æœˆ1æ—¥
        let currentMonth = 0; // å½“å‰æ˜¾ç¤ºçš„æœˆä»½
        let currentYear = 2026;
        let checkedDates = JSON.parse(localStorage.getItem('checkedDates2026')) || {};
        let currentTab = 'japanese';

        // ç®€åŒ–çš„å†œå†æ•°æ®
        const lunarMonths = ['æ­£æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ', 'å…­æœˆ', 
                            'ä¸ƒæœˆ', 'å…«æœˆ', 'ä¹æœˆ', 'åæœˆ', 'åä¸€æœˆ', 'è…Šæœˆ'];
        const lunarDays = ['åˆä¸€', 'åˆäºŒ', 'åˆä¸‰', 'åˆå››', 'åˆäº”', 'åˆå…­', 'åˆä¸ƒ', 'åˆå…«', 'åˆä¹', 'åˆå',
                          'åä¸€', 'åäºŒ', 'åä¸‰', 'åå››', 'åäº”', 'åå…­', 'åä¸ƒ', 'åå…«', 'åä¹', 'äºŒå',
                          'å»¿ä¸€', 'å»¿äºŒ', 'å»¿ä¸‰', 'å»¿å››', 'å»¿äº”', 'å»¿å…­', 'å»¿ä¸ƒ', 'å»¿å…«', 'å»¿ä¹', 'ä¸‰å'];

        // æ˜ŸæœŸåç§°ï¼ˆå¤šè¯­è¨€ï¼‰
        const weekdays = {
            zh: ['æ˜ŸæœŸæ—¥', 'æ˜ŸæœŸä¸€', 'æ˜ŸæœŸäºŒ', 'æ˜ŸæœŸä¸‰', 'æ˜ŸæœŸå››', 'æ˜ŸæœŸäº”', 'æ˜ŸæœŸå…­'],
            fr: ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi'],
            ja: ['ã«ã¡ã‚ˆã†ã³', 'ã’ã¤ã‚ˆã†ã³', 'ã‹ã‚ˆã†ã³', 'ã™ã„ã‚ˆã†ã³', 'ã‚‚ãã‚ˆã†ã³', 'ãã‚“ã‚ˆã†ã³', 'ã©ã‚ˆã†ã³']
        };

        // ä¸­æ–‡æœˆä»½åç§°
        const monthNames = ['ä¸€æœˆ', 'äºŒæœˆ', 'ä¸‰æœˆ', 'å››æœˆ', 'äº”æœˆ', 'å…­æœˆ',
                           'ä¸ƒæœˆ', 'å…«æœˆ', 'ä¹æœˆ', 'åæœˆ', 'åä¸€æœˆ', 'åäºŒæœˆ'];

        // 2026å¹´å„æœˆå¤©æ•°
        const monthDays = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];

        // å…¨å¹´365å¤©ä¸åŒçš„å†…å®¹æ•°æ®åº“
        const dailyContent = {
            // 1æœˆ - æ–°å¹´ä¸»é¢˜
            1: {
                quotes: {
                    english: { text: "The journey of a thousand miles begins with one step.", author: "Lao Tzu", translation: "åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚" },
                    japanese: { text: "ä¸€å¹´ã®è¨ˆã¯å…ƒæ—¦ã«ã‚ã‚Š", author: "æ—¥æœ¬è°šè¯­", translation: "ä¸€å¹´ä¹‹è®¡åœ¨äºæ˜¥ã€‚" },
                    french: { text: "Chaque jour est une nouvelle vie.", author: "SÃ©nÃ¨que", translation: "æ¯ä¸€å¤©éƒ½æ˜¯æ–°ç”Ÿå‘½ã€‚" }
                },
                japanese: { type: "choice", question: "ã€Œæ˜ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ã€ã¯è‹±èªã§ä½•ã¨è¨€ã„ã¾ã™ã‹ï¼Ÿ", options: ["Hello", "Happy New Year", "Good morning", "Thank you"], correct: 1, level: "N5", explanation: "ã€Œæ˜ã‘ã¾ã—ã¦ãŠã‚ã§ã¨ã†ã€ã¯æ–°å¹´ã®æŒ¨æ‹¶ã§ã€è‹±èªã§ã¯ã€ŒHappy New Yearã€ã§ã™ã€‚" },
                french: { type: "choice", question: "Comment dit-on Â« Bonne annÃ©e Â» en franÃ§ais ?", options: ["Bonjour", "Bonne annÃ©e", "Bonsoir", "Merci"], correct: 1, level: "A1", explanation: "æ–°å¹´ã®æŒ¨æ‹¶ã¯ã€ŒBonne annÃ©eã€ã§ã™ã€‚" },
                writing: { theme: "æ–°å¹´å†³å¿ƒ", prompt: "å†™ä¸‹ä½ çš„2026å¹´è¯­è¨€å­¦ä¹ ç›®æ ‡ï¼ŒåŒ…æ‹¬å…·ä½“çš„æ—¶é—´å®‰æ’å’ŒæœŸæœ›è¾¾åˆ°çš„æ°´å¹³ã€‚" }
            },
            2: {
                quotes: {
                    english: { text: "Success is not final, failure is not fatal: it is the courage to continue that counts.", author: "Winston Churchill", translation: "æˆåŠŸä¸æ˜¯ç»ˆç‚¹ï¼Œå¤±è´¥ä¸æ˜¯è‡´å‘½çš„ï¼šé‡è¦çš„æ˜¯ç»§ç»­å‰è¿›çš„å‹‡æ°”ã€‚" },
                    japanese: { text: "ç¶™ç¶šã¯åŠ›ãªã‚Š", author: "æ—¥æœ¬è°šè¯­", translation: "åšæŒå°±æ˜¯åŠ›é‡ã€‚" },
                    french: { text: "La persÃ©vÃ©rance est la clÃ© du succÃ¨s.", author: "Victor Hugo", translation: "æ¯…åŠ›æ˜¯æˆåŠŸçš„å…³é”®ã€‚" }
                },
                japanese: { type: "choice", question: "ã€Œæ¯æ—¥å‹‰å¼·ã—ã¾ã™ã€ã®å¦å®šå½¢ã¯ï¼Ÿ", options: ["æ¯æ—¥å‹‰å¼·ã—ã¾ã›ã‚“", "æ¯æ—¥å‹‰å¼·ã—ã¾ã™", "æ¯æ—¥å‹‰å¼·ã—ãŸ", "æ¯æ—¥å‹‰å¼·ã—ã¦"], correct: 0, level: "N5", explanation: "å‹•è©ã®å¦å®šå½¢ã¯ã€Œï½ã¾ã›ã‚“ã€ã§ã™ã€‚" },
                french: { type: "choice", question: "Comment conjugue le verbe Â« travailler Â» au prÃ©sent de l'indicatif pour Â« je Â» ?", options: ["je travaille", "je travailles", "je travail", "je travaillent"], correct: 0, level: "A1", explanation: "ç¬¬ä¸€äººç§°å•æ•°ã¯ã€Œje travailleã€ã§ã™ã€‚" },
                writing: { theme: "å­¦ä¹ ä¹ æƒ¯", prompt: "æè¿°ä½ æ¯å¤©å­¦ä¹ è¯­è¨€çš„æœ€ä½³æ—¶é—´å’Œæ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•ä¿æŒå­¦ä¹ åŠ¨åŠ›ã€‚" }
            },
            3: {
                quotes: {
                    english: { text: "The only way to learn a new language is to speak it.", author: "Louis de FunÃ¨s", translation: "å­¦ä¹ æ–°è¯­è¨€çš„å”¯ä¸€æ–¹æ³•å°±æ˜¯è¯´å‡ºæ¥ã€‚" },
                    japanese: { text: "è¨€èªã¯äººã‚’çµã³ã¤ã‘ã‚‹æ¶ã‘æ©‹ã§ã‚ã‚‹", author: "æ—¥æœ¬è°šè¯­", translation: "è¯­è¨€æ˜¯è¿æ¥äººä»¬çš„æ¡¥æ¢ã€‚" },
                    french: { text: "Une langue diffÃ©rente, c'est une vision diffÃ©rente de la vie.", author: "Federico Fellini", translation: "ä¸åŒçš„è¯­è¨€å°±æ˜¯ä¸åŒçš„äººç”Ÿè§†è§’ã€‚" }
                },
                japanese: { type: "choice", question: "ã€Œæ—¥æœ¬èªã‚’è©±ã—ã¾ã™ã€ã®æ•¬èªè¡¨ç¾ã¯ï¼Ÿ", options: ["æ—¥æœ¬èªã‚’è©±ã—ã¾ã™", "æ—¥æœ¬èªã‚’ãŠè©±ã—ã—ã¾ã™", "æ—¥æœ¬èªã‚’è©±ã›ã¾ã™", "æ—¥æœ¬èªã‚’è©±ã—ã¦"], correct: 1, level: "N4", explanation: "è¬™è­²èªã§ã€ŒãŠï½ã™ã‚‹ã€å½¢ã‚’ä½¿ã„ã¾ã™ã€‚" },
                french: { type: "choice", question: "Comment dire Â« Je parle franÃ§ais Â» poliment ?", options: ["Je parle franÃ§ais", "Je parle le franÃ§ais", "Je parle franÃ§ais", "Je parle du franÃ§ais"], correct: 0, level: "A2", explanation: "è¨€èªã‚’è©±ã™ã¨ãã¯å† è©ã‚’ä»˜ã‘ã¾ã›ã‚“ã€‚" },
                writing: { theme: "è¯­è¨€å­¦ä¹ æ„Ÿæ‚Ÿ", prompt: "åˆ†äº«ä½ å­¦ä¹ æ–°è¯­è¨€è¿‡ç¨‹ä¸­æœ€æœ‰è¶£æˆ–æœ€å›°éš¾çš„ç»å†ï¼Œä»¥åŠä½ ä»ä¸­å­¦åˆ°çš„ä¸œè¥¿ã€‚" }
            }
        };

        // æ‰©å±•çš„å…¨å¹´365å¤©å†…å®¹ç”Ÿæˆå‡½æ•°
        function generateFullYearContent() {
            const content = {};
            
            // åè¨€åº“æ‰©å±•
            const allQuotes = {
                english: [
                    { text: "The limits of my language mean the limits of my world.", author: "Ludwig Wittgenstein", translation: "æˆ‘çš„è¯­è¨€çš„ç•Œé™å°±æ˜¯æˆ‘çš„ä¸–ç•Œçš„ç•Œé™ã€‚" },
                    { text: "To have another language is to possess a second soul.", author: "Charlemagne", translation: "æ‹¥æœ‰å¦ä¸€ç§è¯­è¨€å°±æ˜¯æ‹¥æœ‰ç¬¬äºŒä¸ªçµé­‚ã€‚" },
                    { text: "Language is the road map of a culture.", author: "Rita Mae Brown", translation: "è¯­è¨€æ˜¯æ–‡åŒ–çš„è·¯çº¿å›¾ã€‚" },
                    { text: "Learning is a treasure that will follow its owner everywhere.", author: "Chinese Proverb", translation: "å­¦ä¹ æ˜¯è·Ÿéšä¸»äººåˆ°ä»»ä½•åœ°æ–¹éƒ½ä¼šæœ‰çš„è´¢å¯Œã€‚" },
                    { text: "The beautiful thing about learning is that no one can take it away from you.", author: "B.B. King", translation: "å­¦ä¹ çš„ç¾å¦™ä¹‹å¤„åœ¨äºæ²¡äººèƒ½ä»ä½ èº«ä¸Šå¤ºèµ°å®ƒã€‚" },
                    { text: "Knowledge speaks, but wisdom listens.", author: "Jimi Hendrix", translation: "çŸ¥è¯†ä¼šè¯´è¯ï¼Œä½†æ™ºæ…§æ‡‚å¾—å€¾å¬ã€‚" },
                    { text: "In learning you will teach, and in teaching you will learn.", author: "Phil Collins", translation: "åœ¨å­¦ä¹ ä¸­ä½ ä¼šæ•™å¯¼ï¼Œåœ¨æ•™å¯¼ä¸­ä½ ä¼šå­¦ä¹ ã€‚" },
                    { text: "The mind is not a vessel to be filled, but a fire to be kindled.", author: "Plutarch", translation: "å¿ƒçµä¸æ˜¯éœ€è¦è¢«å¡«æ»¡çš„å®¹å™¨ï¼Œè€Œæ˜¯éœ€è¦è¢«ç‚¹ç‡ƒçš„ç«ç§ã€‚" },
                    { text: "Education is the passport to the future.", author: "Malcolm X", translation: "æ•™è‚²æ˜¯é€šå¾€æœªæ¥çš„æŠ¤ç…§ã€‚" },
                    { text: "Live as if you were to die tomorrow. Learn as if you were to live forever.", author: "Mahatma Gandhi", translation: "åƒæ˜å¤©å°±è¦æ­»å»é‚£æ ·ç”Ÿæ´»ï¼Œåƒæ°¸è¿œæ´»ç€é‚£æ ·å­¦ä¹ ã€‚" }
                ],
                japanese: [
                    { text: "çŸ³ã®ä¸Šã«ã‚‚ä¸‰å¹´", author: "æ—¥æœ¬è°šè¯­", translation: "çŸ³å¤´ä¸Šé¢åä¸‰å¹´ï¼ˆæŒä¹‹ä»¥æ’å¿…èƒ½æˆåŠŸï¼‰" },
                    { text: "çŒ¿ã‚‚æœ¨ã‹ã‚‰è½ã¡ã‚‹", author: "æ—¥æœ¬è°šè¯­", translation: "çŒ´å­ä¹Ÿä¼šä»æ ‘ä¸Šæ‰ä¸‹æ¥ï¼ˆæ™ºè€…åƒè™‘å¿…æœ‰ä¸€å¤±ï¼‰" },
                    { text: "ç¶™ç¶šã¯åŠ›ãªã‚Š", author: "æ—¥æœ¬è°šè¯­", translation: "åšæŒå°±æ˜¯åŠ›é‡" },
                    { text: "æ™‚ã¯é‡‘ãªã‚Š", author: "æ—¥æœ¬è°šè¯­", translation: "æ—¶é—´å°±æ˜¯é‡‘é’±" },
                    { text: "çŸ¥è­˜ã¯åŠ›ãªã‚Š", author: "æ—¥æœ¬è°šè¯­", translation: "çŸ¥è¯†å°±æ˜¯åŠ›é‡" },
                    { text: "ç¿’ã†ã‚ˆã‚Šæ…£ã‚Œã‚ˆ", author: "æ—¥æœ¬è°šè¯­", translation: "ç†Ÿèƒ½ç”Ÿå·§" },
                    { text: "ç™¾èã¯ä¸€è¦‹ã«å¦‚ã‹ãš", author: "æ—¥æœ¬è°šè¯­", translation: "ç™¾é—»ä¸å¦‚ä¸€è§" },
                    { text: "åˆå¿ƒå¿˜ã‚‹ã¹ã‹ã‚‰ãš", author: "æ—¥æœ¬è°šè¯­", translation: "å‹¿å¿˜åˆå¿ƒ" },
                    { text: "åŠªåŠ›ã¯å¿…ãšå ±ã‚ã‚Œã‚‹", author: "æ—¥æœ¬è°šè¯­", translation: "åŠªåŠ›å¿…å®šä¼šæœ‰å›æŠ¥" },
                    { text: "å¤±æ•—ã¯æˆåŠŸã®ã‚‚ã¨", author: "æ—¥æœ¬è°šè¯­", translation: "å¤±è´¥æ˜¯æˆåŠŸä¹‹æ¯" }
                ],
                french: [
                    { text: "Petit Ã  petit, l'oiseau fait son nid.", author: "Proverbe franÃ§ais", translation: "å°é¸Ÿä¸€ç‚¹ä¸€ç‚¹åœ°ç­‘å·¢ï¼ˆå¾ªåºæ¸è¿›ï¼‰" },
                    { text: "Qui ne risque rien n'a rien.", author: "Proverbe franÃ§ais", translation: "ä¸å†’é™©å°±ä¸€æ— æ‰€è·" },
                    { text: "Il n'y a que le premier pas qui coÃ»te.", author: "Proverbe franÃ§ais", translation: "ä¸‡äº‹å¼€å¤´éš¾" },
                    { text: "Rome ne s'est pas faite en un jour.", author: "Proverbe franÃ§ais", translation: "ç½—é©¬ä¸æ˜¯ä¸€å¤©å»ºæˆçš„" },
                    { text: "Vouloir, c'est pouvoir.", author: "Proverbe franÃ§ais", translation: "æœ‰å¿—è€…äº‹ç«Ÿæˆ" },
                    { text: "L'habitude est une seconde nature.", author: "Proverbe franÃ§ais", translation: "ä¹ æƒ¯æˆè‡ªç„¶" },
                    { text: "Ã€ cÅ“ur vaillant rien d'impossible.", author: "Proverbe franÃ§ais", translation: "æœ‰å¿—è€…äº‹ç«Ÿæˆ" },
                    { text: "Qui cherche trouve.", author: "Proverbe franÃ§ais", translation: "å¯»æ‰¾çš„äººå¿…æœ‰æ”¶è·" },
                    { text: "Mieux vaut tard que jamais.", author: "Proverbe franÃ§ais", translation: "è¿Ÿåšæ€»æ¯”ä¸åšå¥½" },
                    { text: "L'union fait la force.", author: "Proverbe franÃ§ais", translation: "å›¢ç»“å°±æ˜¯åŠ›é‡" }
                ]
            };

            // æ—¥è¯­ç»ƒä¹ é¢˜åº“æ‰©å±•
            const japaneseExercises = [
                // N5çº§åˆ«
                { type: "choice", question: "ã€Œã¯ã„ã€ã¯ã©ã‚“ãªã¨ãã«ä½¿ã„ã¾ã™ã‹ï¼Ÿ", options: ["ã¯ã„ã€ã¨è¨€ã†ã¨ã", "ã„ã„ãˆã€ã¨è¨€ã†ã¨ã", "åˆ†ã‹ã‚‰ãªã„ã¨ã", "æ€’ã£ã¦ã„ã‚‹ã¨ã"], correct: 0, level: "N5", explanation: "ã€Œã¯ã„ã€ã¯è‚¯å®šã®è¿”äº‹ã‚’ã™ã‚‹ã¨ãã«ä½¿ã„ã¾ã™ã€‚" },
                { type: "choice", question: "ã€Œã‚ã‚ŠãŒã¨ã†ã€ã®æ„å‘³ã¯ï¼Ÿ", options: ["ã“ã‚“ã«ã¡ã¯", "ã‚ã‚ŠãŒã¨ã†", "ã•ã‚ˆã†ãªã‚‰", "ã™ã¿ã¾ã›ã‚“"], correct: 1, level: "N5", explanation: "ã€Œã‚ã‚ŠãŒã¨ã†ã€ã¯æ„Ÿè¬ã®æ°—æŒã¡ã‚’è¡¨ã—ã¾ã™ã€‚" },
                { type: "choice", question: "ã€Œæ—¥æœ¬èªã€ã®èª­ã¿æ–¹ã¯ï¼Ÿ", options: ["ã«ã»ã‚“ã”", "ã«ã£ã½ã‚“ã”", "ã«ã»ã‚“", "ã«ã£ã½ã‚“"], correct: 0, level: "N5", explanation: "ã€Œæ—¥æœ¬èªã€ã¯ã€Œã«ã»ã‚“ã”ã€ã¨èª­ã¿ã¾ã™ã€‚" },
                { type: "choice", question: "ã€Œå­¦ç”Ÿã€ã®æ„å‘³ã¯ï¼Ÿ", options: ["å…ˆç”Ÿ", "å­¦ç”Ÿ", "ä¼šç¤¾å“¡", "åŒ»è€…"], correct: 1, level: "N5", explanation: "ã€Œå­¦ç”Ÿã€ã¯å­¦ç”Ÿã‚’æ„å‘³ã—ã¾ã™ã€‚" },
                { type: "choice", question: "ã€Œæ°´ã€ã®èª­ã¿æ–¹ã¯ï¼Ÿ", options: ["ã¿ãš", "ã»ã—", "ã¤ã", "ã²"], correct: 0, level: "N5", explanation: "ã€Œæ°´ã€ã¯ã€Œã¿ãšã€ã¨èª­ã¿ã¾ã™ã€‚" },
                
                // N4çº§åˆ«
                { type: "choice", question: "ã€Œé£Ÿã¹ã¾ã™ã€ã®å¦å®šå½¢ã¯ï¼Ÿ", options: ["é£Ÿã¹ã¾ã™", "é£Ÿã¹ã¾ã›ã‚“", "é£Ÿã¹ãŸ", "é£Ÿã¹ã¦"], correct: 1, level: "N4", explanation: "å‹•è©ã®å¦å®šå½¢ã¯ã€Œï½ã¾ã›ã‚“ã€ã§ã™ã€‚" },
                { type: "choice", question: "ã€Œå¤§ãã„ã€ã®åå¯¾èªã¯ï¼Ÿ", options: ["å¤§ãã„", "å°ã•ã„", "é«˜ã„", "å®‰ã„"], correct: 1, level: "N4", explanation: "ã€Œå¤§ãã„ã€ã®åå¯¾èªã¯ã€Œå°ã•ã„ã€ã§ã™ã€‚" },
                { type: "choice", question: "ã€Œè¡Œãã¾ã™ã€ã®ã¦å½¢ã¯ï¼Ÿ", options: ["è¡Œã", "è¡Œã£ã¦", "è¡Œã£ãŸ", "è¡Œã"], correct: 1, level: "N4", explanation: "ã€Œè¡Œãã¾ã™ã€ã®ã¦å½¢ã¯ã€Œè¡Œã£ã¦ã€ã§ã™ã€‚" },
                { type: "choice", question: "ã€Œèª­ã‚€ã€ã®éå»å½¢ã¯ï¼Ÿ", options: ["èª­ã‚€", "èª­ã‚“ã ", "èª­ã¿", "èª­ã‚“ã§"], correct: 1, level: "N4", explanation: "ã€Œèª­ã‚€ã€ã®éå»å½¢ã¯ã€Œèª­ã‚“ã ã€ã§ã™ã€‚" },
                { type: "choice", question: "ã€Œå¯’ã„ã€ã®æ„å‘³ã¯ï¼Ÿ", options: ["æš‘ã„", "å¯’ã„", "æš–ã‹ã„", "æ¶¼ã—ã„"], correct: 1, level: "N4", explanation: "ã€Œå¯’ã„ã€ã¯æ°—æ¸©ãŒä½ã„ã“ã¨ã‚’è¡¨ã—ã¾ã™ã€‚" },
                
                // N3çº§åˆ«
                { type: "choice", question: "ã€Œã€œãªãŒã‚‰ã€ã®ä½¿ã„æ–¹ã¯ï¼Ÿ", options: ["åŒæ™‚ã«", "å¾Œã§", "å‰ã«", "çµ‚ã‚ã£ãŸå¾Œ"], correct: 0, level: "N3", explanation: "ã€Œã€œãªãŒã‚‰ã€ã¯åŒæ™‚ã«è¡Œã†ã“ã¨ã‚’è¡¨ã—ã¾ã™ã€‚" },
                { type: "choice", question: "ã€Œã€œãã†ã ã€ã®ä½¿ã„æ–¹ã¯ï¼Ÿ", options: ["ä¼è", "æ¨é‡", "éå»", "æœªæ¥"], correct: 0, level: "N3", explanation: "ã€Œã€œãã†ã ã€ã¯ä¼èã‚’è¡¨ã—ã¾ã™ã€‚" },
                { type: "choice", question: "ã€Œã€œã‚ˆã†ã«ã€ã®æ„å‘³ã¯ï¼Ÿ", options: ["æ–¹æ³•", "ç›®çš„", "åŸå› ", "çµæœ"], correct: 1, level: "N3", explanation: "ã€Œã€œã‚ˆã†ã«ã€ã¯ç›®çš„ã‚’è¡¨ã—ã¾ã™ã€‚" },
                { type: "choice", question: "ã€Œã€œã¦ã—ã¾ã†ã€ã®æ„å‘³ã¯ï¼Ÿ", options: ["å®Œäº†ãƒ»å¾Œæ‚”", "é–‹å§‹", "ç¶™ç¶š", "ä¸­æ­¢"], correct: 0, level: "N3", explanation: "ã€Œã€œã¦ã—ã¾ã†ã€ã¯å®Œäº†ã‚„å¾Œæ‚”ã‚’è¡¨ã—ã¾ã™ã€‚" },
                { type: "choice", question: "ã€Œã€œã‹ã‚‚ã—ã‚Œãªã„ã€ã®æ„å‘³ã¯ï¼Ÿ", options: ["ç¢ºå®Ÿ", "å¯èƒ½", "ä¸å¯èƒ½", "å¿…è¦"], correct: 1, level: "N3", explanation: "ã€Œã€œã‹ã‚‚ã—ã‚Œãªã„ã€ã¯å¯èƒ½æ€§ã‚’è¡¨ã—ã¾ã™ã€‚" }
            ];

            // æ³•è¯­ç»ƒä¹ é¢˜åº“æ‰©å±•
            const frenchExercises = [
                // A1çº§åˆ«
                { type: "choice", question: "Comment dit-on Â« bonjour Â» en franÃ§ais ?", options: ["Bonjour", "Bonsoir", "Bonne nuit", "Au revoir"], correct: 0, level: "A1", explanation: "ã€ŒBonjourã€ã¯ã€Œã“ã‚“ã«ã¡ã¯ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚" },
                { type: "choice", question: "Comment dit-on Â« merci Â» en franÃ§ais ?", options: ["Bonjour", "Merci", "Au revoir", "Pardon"], correct: 1, level: "A1", explanation: "ã€ŒMerciã€ã¯ã€Œã‚ã‚ŠãŒã¨ã†ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚" },
                { type: "choice", question: "Comment dit-on Â« au revoir Â» en franÃ§ais ?", options: ["Bonjour", "Merci", "Au revoir", "S'il vous plaÃ®t"], correct: 2, level: "A1", explanation: "ã€ŒAu revoirã€ã¯ã€Œã•ã‚ˆã†ãªã‚‰ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚" },
                { type: "choice", question: "Comment conjugue le verbe Â« Ãªtre Â» au prÃ©sent pour Â« je Â» ?", options: ["je suis", "je es", "je est", "je sont"], correct: 0, level: "A1", explanation: "å‹•è©ã€ŒÃªtreã€ã®ç¬¬ä¸€äººç§°å˜æ•°ã¯ã€Œje suisã€ã§ã™ã€‚" },
                { type: "choice", question: "Comment conjugue le verbe Â« avoir Â» au prÃ©sent pour Â« il Â» ?", options: ["il a", "il ai", "il as", "il avons"], correct: 0, level: "A1", explanation: "å‹•è©ã€Œavoirã€ã®ä¸‰äººç§°å˜æ•°ã¯ã€Œil aã€ã§ã™ã€‚" },
                
                // A2çº§åˆ«
                { type: "choice", question: "Comment dit-on Â« j'ai faim Â» en franÃ§ais ?", options: ["J'ai faim", "Je suis faim", "Je fais faim", "Je mange faim"], correct: 0, level: "A2", explanation: "ã€Œavoir faimã€ã§ã€ŒãŠè…¹ãŒç©ºã„ã¦ã„ã‚‹ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚" },
                { type: "choice", question: "Comment dit-on Â« il est tard Â» en franÃ§ais ?", options: ["Il est tard", "Il est en retard", "Il est avance", "Il est rapide"], correct: 0, level: "A2", explanation: "ã€ŒIl est tardã€ã§ã€Œæ™‚é–“ãŒé…ã„ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚" },
                { type: "choice", question: "Comment conjugue le verbe Â« aller Â» au prÃ©sent pour Â« nous Â» ?", options: ["nous allons", "nous aller", "nous allez", "nous va"], correct: 0, level: "A2", explanation: "å‹•è©ã€Œallerã€ã®ç¬¬ä¸€äººç§°è¤‡æ•°ã¯ã€Œnous allonsã€ã§ã™ã€‚" },
                { type: "choice", question: "Comment dit-on Â« je voudrais Â» en franÃ§ais ?", options: ["Je veux", "Je voudrais", "Je vais", "Je viens"], correct: 1, level: "A2", explanation: "ã€ŒJe voudraisã€ã¯ä¸å¯§ãªè¦æ±‚ã®è¡¨ç¾ã§ã™ã€‚" },
                { type: "choice", question: "Comment dit-on Â« c'est combien ? Â» en franÃ§ais ?", options: ["C'est combien ?", "Combien Ã§a coÃ»te ?", "Quel est le prix ?", "ä»¥ä¸Šã™ã¹ã¦"], correct: 3, level: "A2", explanation: "å€¤æ®µã‚’èãã¨ãã¯ã“ã‚Œã‚‰ã®è¡¨ç¾ãŒä½¿ãˆã¾ã™ã€‚" },
                
                // B1çº§åˆ«
                { type: "choice", question: "Quel est le passÃ© composÃ© de Â« manger Â» pour Â« j' Â» ?", options: ["j'ai mangÃ©", "je mangeai", "je mangeais", "je mangerai"], correct: 0, level: "B1", explanation: "ã€Œmangerã€ã®è¤‡åˆéå»æ™‚åˆ¶ã¯ã€Œj'ai mangÃ©ã€ã§ã™ã€‚" },
                { type: "choice", question: "Comment dit-on Â« si j'Ã©tais riche Â» en franÃ§ais ?", options: ["Si je suis riche", "Si j'Ã©tais riche", "Si je serai riche", "Si je serais riche"], correct: 1, level: "B1", explanation: "ä»®å®šæ³•ã®éå»ã§ã¯ã€Œsi + æœªå®Œæˆéå»ã€ã§ã™ã€‚" },
                { type: "choice", question: "Comment dit-on Â« il faut que Â» en franÃ§ais ?", options: ["Il faut que", "Il faut", "Il est nÃ©cessaire", "Il doit"], correct: 0, level: "B1", explanation: "ã€Œil faut queã€ã®å¾Œã«ã¯ä»®å®šæ³•ç¾åœ¨ãŒç¶šãã¾ã™ã€‚" },
                { type: "choice", question: "Comment dit-on Â« je viens de Â» en franÃ§ais ?", options: ["Je viens de", "Je viens", "Je viens Ã ", "Je viens en"], correct: 0, level: "B1", explanation: "ã€Œje viens de + å‹•è©ã€ã§ã€Œï½ã—ãŸã°ã‹ã‚Šã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚" },
                { type: "choice", question: "Comment dit-on Â« Ã§a fait Â» en franÃ§ais pour exprimer la durÃ©e ?", options: ["Ã‡a fait", "Il fait", "C'est fait", "Fait"], correct: 0, level: "B1", explanation: "ã€ŒÃ§a fait + æ™‚é–“ã€ã§ã€Œï½çµŒã£ã¦ã„ã‚‹ã€ã¨ã„ã†æ„å‘³ã§ã™ã€‚" }
            ];

            // åˆ›æ„å†™ä½œæç¤ºæ‰©å±•
            const writingPrompts = [
                { theme: "æ–°å¹´å†³å¿ƒ", prompt: "å†™ä¸‹ä½ çš„2026å¹´è¯­è¨€å­¦ä¹ ç›®æ ‡ï¼ŒåŒ…æ‹¬å…·ä½“çš„æ—¶é—´å®‰æ’å’ŒæœŸæœ›è¾¾åˆ°çš„æ°´å¹³ã€‚" },
                { theme: "å­¦ä¹ ä¹ æƒ¯", prompt: "æè¿°ä½ æ¯å¤©å­¦ä¹ è¯­è¨€çš„æœ€ä½³æ—¶é—´å’Œæ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•ä¿æŒå­¦ä¹ åŠ¨åŠ›ã€‚" },
                { theme: "è¯­è¨€å­¦ä¹ æ„Ÿæ‚Ÿ", prompt: "åˆ†äº«ä½ å­¦ä¹ æ–°è¯­è¨€è¿‡ç¨‹ä¸­æœ€æœ‰è¶£æˆ–æœ€å›°éš¾çš„ç»å†ï¼Œä»¥åŠä½ ä»ä¸­å­¦åˆ°çš„ä¸œè¥¿ã€‚" },
                { theme: "æ–‡åŒ–äº¤æµ", prompt: "æƒ³è±¡ä½ æ­£åœ¨ç”¨æ–°è¯­è¨€ä¸å¤–å›½æœ‹å‹äº¤æµï¼Œæè¿°è¿™ç§è·¨æ–‡åŒ–ä½“éªŒã€‚" },
                { theme: "æœªæ¥å±•æœ›", prompt: "å†™ä¸€å°ä¿¡ç»™2027å¹´çš„è‡ªå·±ï¼Œè°ˆè°ˆä½ ç°åœ¨å­¦ä¹ è¯­è¨€çš„åŠªåŠ›å’ŒæœŸæœ›ã€‚" },
                { theme: "å­¦ä¹ æ–¹æ³•", prompt: "æ¯”è¾ƒä¸åŒçš„è¯­è¨€å­¦ä¹ æ–¹æ³•ï¼Œæ‰¾å‡ºæœ€é€‚åˆä½ çš„æ–¹å¼å¹¶è¯´æ˜ç†ç”±ã€‚" },
                { theme: "æ–‡åŒ–ç†è§£", prompt: "é€šè¿‡å­¦ä¹ è¯­è¨€ï¼Œä½ å¯¹å“ªä¸ªå›½å®¶çš„æ–‡åŒ–æœ‰äº†æ›´æ·±çš„ç†è§£ï¼Ÿåˆ†äº«ä½ çš„å‘ç°ã€‚" },
                { theme: "æŒ‘æˆ˜ä¸çªç ´", prompt: "æè¿°ä½ åœ¨è¯­è¨€å­¦ä¹ ä¸­é‡åˆ°çš„æœ€å¤§æŒ‘æˆ˜ï¼Œä»¥åŠä½ æ˜¯å¦‚ä½•å…‹æœå®ƒçš„ã€‚" },
                { theme: "å­¦ä¹ ä¼™ä¼´", prompt: "å¦‚æœä½ æœ‰è¯­è¨€å­¦ä¹ ä¼™ä¼´ï¼Œæè¿°ä½ ä»¬å¦‚ä½•äº’ç›¸å¸®åŠ©å’Œé¼“åŠ±ã€‚" },
                { theme: "å®é™…åº”ç”¨", prompt: "æƒ³è±¡ä½ æ­£åœ¨å›½å¤–æ—…è¡Œï¼Œéœ€è¦ç”¨æ–°è¯­è¨€è§£å†³ä¸€ä¸ªå®é™…é—®é¢˜ï¼Œå†™ä¸‹è¿™ä¸ªåœºæ™¯ã€‚" }
            ];

            // ç”Ÿæˆå…¨å¹´365å¤©å†…å®¹
            for (let day = 1; day <= 365; day++) {
                const month = Math.floor((day - 1) / 30.4);
                const monthDay = day % 30 || 30;
                
                content[day] = {
                    quotes: {
                        english: allQuotes.english[day % allQuotes.english.length],
                        japanese: allQuotes.japanese[day % allQuotes.japanese.length],
                        french: allQuotes.french[day % allQuotes.french.length]
                    },
                    japanese: japaneseExercises[day % japaneseExercises.length],
                    french: frenchExercises[day % frenchExercises.length],
                    writing: writingPrompts[day % writingPrompts.length]
                };
            }
            
            return content;
        }

        // ç”Ÿæˆå®Œæ•´çš„å…¨å¹´å†…å®¹
        const fullYearContent = generateFullYearContent();

        // åˆå§‹åŒ–
        function initCalendar() {
            generateMonthSelector();
            generateWeekdays();
            generateMonthCalendar();
            loadDate(currentDate);
            updateProgress();
        }

        // ç”Ÿæˆæœˆä»½é€‰æ‹©å™¨
        function generateMonthSelector() {
            const monthGrid = document.getElementById('monthGrid');
            monthGrid.innerHTML = '';

            monthNames.forEach((monthName, index) => {
                const monthBtn = document.createElement('button');
                monthBtn.className = 'month-btn';
                monthBtn.textContent = monthName;
                monthBtn.dataset.month = index;
                
                if (index === currentMonth) {
                    monthBtn.classList.add('active');
                }

                monthBtn.addEventListener('click', () => {
                    selectMonth(index);
                });

                monthGrid.appendChild(monthBtn);
            });
        }

        // ç”Ÿæˆæ˜ŸæœŸæ ‡é¢˜
        function generateWeekdays() {
            const weekdaysContainer = document.getElementById('weekdays');
            weekdaysContainer.innerHTML = '';

            const weekDays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
            weekDays.forEach(day => {
                const weekdayDiv = document.createElement('div');
                weekdayDiv.className = 'weekday';
                weekdayDiv.textContent = day;
                weekdaysContainer.appendChild(weekdayDiv);
            });
        }

        // ç”Ÿæˆå½“æœˆæ—¥å†
        function generateMonthCalendar() {
            const daysGrid = document.getElementById('daysGrid');
            const calendarTitle = document.getElementById('calendarTitle');
            
            daysGrid.innerHTML = '';
            calendarTitle.textContent = `${currentYear}å¹´${monthNames[currentMonth]}`;

            // è·å–å½“æœˆç¬¬ä¸€å¤©æ˜¯æ˜ŸæœŸå‡ 
            const firstDay = new Date(currentYear, currentMonth, 1).getDay();
            
            // æ·»åŠ ä¸Šæœˆå°¾æ—¥æœŸ
            const prevMonthDays = currentMonth === 0 ? 31 : monthDays[currentMonth - 1];
            for (let i = firstDay - 1; i >= 0; i--) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'day other-month';
                dayDiv.textContent = prevMonthDays - i;
                daysGrid.appendChild(dayDiv);
            }

            // æ·»åŠ å½“æœˆæ—¥æœŸ
            const daysInMonth = monthDays[currentMonth];
            const today = new Date();
            
            for (let day = 1; day <= daysInMonth; day++) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'day';
                dayDiv.textContent = day;
                
                const date = new Date(currentYear, currentMonth, day);
                const dateKey = getDateKey(date);
                
                // æ£€æŸ¥æ˜¯å¦æ˜¯ä»Šå¤©
                if (date.toDateString() === today.toDateString()) {
                    dayDiv.classList.add('today');
                }
                
                // æ£€æŸ¥æ˜¯å¦æ˜¯å½“å‰é€‰ä¸­çš„æ—¥æœŸ
                if (date.toDateString() === currentDate.toDateString()) {
                    dayDiv.classList.add('selected');
                }
                
                // æ£€æŸ¥æ˜¯å¦å·²æ‰“å¡
                if (checkedDates[dateKey]) {
                    dayDiv.classList.add('checked');
                }

                dayDiv.addEventListener('click', () => {
                    selectDate(date);
                });

                daysGrid.appendChild(dayDiv);
            }

            // æ·»åŠ ä¸‹æœˆå¤´æ—¥æœŸ
            const totalCells = daysGrid.children.length;
            const remainingCells = 42 - totalCells; // 6è¡Œ Ã— 7åˆ—
            for (let day = 1; day <= remainingCells; day++) {
                const dayDiv = document.createElement('div');
                dayDiv.className = 'day other-month';
                dayDiv.textContent = day;
                daysGrid.appendChild(dayDiv);
            }
        }

        // é€‰æ‹©æœˆä»½
        function selectMonth(month) {
            currentMonth = month;
            
            // æ›´æ–°æœˆä»½æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.month-btn').forEach((btn, index) => {
                btn.classList.toggle('active', index === month);
            });
            
            // é‡æ–°ç”Ÿæˆæ—¥å†
            generateMonthCalendar();
        }

        // åˆ‡æ¢æœˆä»½ï¼ˆç®­å¤´æŒ‰é’®ï¼‰
        function changeMonth(delta) {
            currentMonth += delta;
            
            if (currentMonth < 0) {
                currentMonth = 11;
                currentYear--;
            } else if (currentMonth > 11) {
                currentMonth = 0;
                currentYear++;
            }
            
            // ç¡®ä¿ä¸è¶…è¿‡2026å¹´
            if (currentYear > 2026) {
                currentYear = 2026;
                currentMonth = 11;
            } else if (currentYear < 2026) {
                currentYear = 2026;
                currentMonth = 0;
            }
            
            selectMonth(currentMonth);
        }

        // é€‰æ‹©æ—¥æœŸ
        function selectDate(date) {
            currentDate = date;
            
            // å¦‚æœé€‰æ‹©çš„æ—¥æœŸä¸åœ¨å½“å‰æœˆï¼Œåˆ‡æ¢åˆ°ç›¸åº”æœˆä»½
            if (date.getMonth() !== currentMonth) {
                selectMonth(date.getMonth());
            }
            
            loadDate(date);
            generateMonthCalendar(); // é‡æ–°ç”Ÿæˆä»¥æ›´æ–°é€‰ä¸­çŠ¶æ€
        }

        // è·å–æ—¥æœŸåœ¨ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©
        function getDayOfYear(date) {
            const start = new Date(date.getFullYear(), 0, 0);
            const diff = date - start;
            return Math.floor(diff / (1000 * 60 * 60 * 24));
        }

        // åŠ è½½æŒ‡å®šæ—¥æœŸå†…å®¹
        function loadDate(date) {
            updateDateDisplay(date);
            loadQuotes(date);
            loadExercise(date);
        }

        // æ›´æ–°æ—¥æœŸæ˜¾ç¤º
        function updateDateDisplay(date) {
            const year = date.getFullYear();
            const month = date.getMonth() + 1;
            const day = date.getDate();
            const weekday = date.getDay();

            document.getElementById('dateInfo').textContent = 
                `${year}å¹´${month}æœˆ${day}æ—¥`;

            document.getElementById('weekdayInfo').innerHTML = `
                ${weekdays.zh[weekday]} 
                <span style="color: #666; font-size: 14px;">
                    (${weekdays.fr[weekday]} / ${weekdays.ja[weekday]})
                </span>
            `;

            // ç®€åŒ–çš„å†œå†è®¡ç®—
            const lunarMonth = lunarMonths[(month + 9) % 12];
            const lunarDay = lunarDays[(day + 12) % 30];
            document.getElementById('lunarInfo').textContent = 
                `å†œå†${lunarMonth}${lunarDay}`;
        }

        // åŠ è½½åè¨€
        function loadQuotes(date) {
            const dayOfYear = getDayOfYear(date);
            const quoteData = fullYearContent[dayOfYear].quotes;
            
            const quotesGrid = document.getElementById('quotesGrid');
            quotesGrid.innerHTML = '';

            const languages = ['english', 'japanese', 'french'];
            const flags = ['ğŸ‡¬ğŸ‡§', 'ğŸ‡¯ğŸ‡µ', 'ğŸ‡«ğŸ‡·'];
            const names = ['è‹±è¯­åè¨€', 'æ—¥æœ¬èªã®åè¨€', 'Citation franÃ§aise'];

            languages.forEach((lang, index) => {
                const quote = quoteData[lang];
                const card = document.createElement('div');
                card.className = `quote-card ${lang}`;
                card.innerHTML = `
                    <div class="quote-language">${flags[index]} ${names[index]} (${lang})</div>
                    <div class="quote-text">"${quote.text}"</div>
                    <div class="quote-author">â€” ${quote.author}</div>
                    <div class="quote-translation">è¯‘æ–‡ï¼š${quote.translation}</div>
                `;
                quotesGrid.appendChild(card);
            });
        }

        // åŠ è½½ç»ƒä¹ 
        function loadExercise(date) {
            const dayOfYear = getDayOfYear(date);
            const dayContent = fullYearContent[dayOfYear];
            
            // å­˜å‚¨å½“å‰ç»ƒä¹ 
            window.currentJapaneseExercise = { ...dayContent.japanese, dateKey: getDateKey(date) };
            window.currentFrenchExercise = { ...dayContent.french, dateKey: getDateKey(date) };
            window.currentWritingPrompt = { ...dayContent.writing, dateKey: getDateKey(date) };

            // æ ¹æ®å½“å‰æ ‡ç­¾é¡µæ˜¾ç¤ºç›¸åº”å†…å®¹
            switchTab(currentTab);
        }

        // åˆ‡æ¢æ ‡ç­¾é¡µ
        function switchTab(tabName) {
            currentTab = tabName;
            
            // æ›´æ–°æ ‡ç­¾æ ·å¼
            document.querySelectorAll('.tab').forEach((tab, index) => {
                tab.classList.toggle('active', 
                    (tabName === 'japanese' && index === 0) ||
                    (tabName === 'french' && index === 1) ||
                    (tabName === 'writing' && index === 2)
                );
            });

            // æ˜¾ç¤ºç›¸åº”å†…å®¹
            const exerciseContent = document.getElementById('exerciseContent');
            const dayOfYear = getDayOfYear(currentDate);
            
            if (tabName === 'japanese') {
                exerciseContent.innerHTML = createJapaneseExerciseHTML(window.currentJapaneseExercise);
            } else if (tabName === 'french') {
                exerciseContent.innerHTML = createFrenchExerciseHTML(window.currentFrenchExercise);
            } else if (tabName === 'writing') {
                exerciseContent.innerHTML = createWritingExerciseHTML(window.currentWritingPrompt);
            }
        }

        // åˆ›å»ºæ—¥è¯­ç»ƒä¹ HTML
        function createJapaneseExerciseHTML(exercise) {
            const header = `
                <div class="exercise-title">ğŸ‡¯ğŸ‡µ æ—¥è¯­èƒ½åŠ›æµ‹è¯•ï¼ˆ${exercise.level}ï¼‰</div>
                <div class="exercise-description">
                    <div class="question-text">${exercise.question}</div>
                </div>
            `;

            if (exercise.type === 'choice') {
                const options = exercise.options.map((option, index) => `
                    <div class="option" onclick="checkAnswer('japanese', ${index})">
                        ${String.fromCharCode(65 + index)}. ${option}
                    </div>
                `).join('');

                return header + `
                    <div class="options" id="options">${options}</div>
                    <div class="answer-section" id="answerSection">
                        <div class="answer-title">æ­£è§£ï¼</div>
                        <div>æ­£ç¡®ç­”æ¡ˆï¼š${String.fromCharCode(65 + exercise.correct)}</div>
                        <div>è§£æï¼š${exercise.explanation}</div>
                    </div>
                `;
            } else {
                return header + `
                    <input type="text" class="input-answer" id="inputAnswer" 
                           placeholder="è¯·è¾“å…¥ä½ çš„ç­”æ¡ˆ...">
                    <button class="submit-btn" onclick="submitInputAnswer('japanese')">
                        æäº¤ç­”æ¡ˆ
                    </button>
                    <div class="answer-section" id="answerSection">
                        <div class="answer-title">å‚è€ƒç­”æ¡ˆ</div>
                        <div>æ­£ç¡®ç­”æ¡ˆï¼š${exercise.answer}</div>
                        <div>å…³é”®è¯ï¼š${exercise.keywords.join('ã€')}</div>
                        <div>è§£æï¼š${exercise.explanation}</div>
                    </div>
                `;
            }
        }

        // åˆ›å»ºæ³•è¯­ç»ƒä¹ HTML
        function createFrenchExerciseHTML(exercise) {
            const header = `
                <div class="exercise-title">ğŸ‡«ğŸ‡· æ³•è¯­ç»ƒä¹ ï¼ˆ${exercise.level}ï¼‰</div>
                <div class="exercise-description">
                    <div class="question-text">${exercise.question}</div>
                </div>
            `;

            if (exercise.type === 'choice') {
                const options = exercise.options.map((option, index) => `
                    <div class="option" onclick="checkAnswer('french', ${index})">
                        ${String.fromCharCode(65 + index)}. ${option}
                    </div>
                `).join('');

                return header + `
                    <div class="options" id="options">${options}</div>
                    <div class="answer-section" id="answerSection">
                        <div class="answer-title">Bien jouÃ© !</div>
                        <div>æ­£ç¡®ç­”æ¡ˆï¼š${String.fromCharCode(65 + exercise.correct)}</div>
                        <div>è§£æï¼š${exercise.explanation}</div>
                    </div>
                `;
            } else {
                return header + `
                    <input type="text" class="input-answer" id="inputAnswer" 
                           placeholder="Veuillez saisir votre rÃ©ponse...">
                    <button class="submit-btn" onclick="submitInputAnswer('french')">
                        Soumettre
                    </button>
                    <div class="answer-section" id="answerSection">
                        <div class="answer-title">RÃ©ponse de rÃ©fÃ©rence</div>
                        <div>æ­£ç¡®ç­”æ¡ˆï¼š${exercise.answer}</div>
                        <div>å…³é”®è¯ï¼š${exercise.keywords.join('ã€')}</div>
                        <div>è§£æï¼š${exercise.explanation}</div>
                    </div>
                `;
            }
        }

        // åˆ›å»ºå†™ä½œç»ƒä¹ HTML
        function createWritingExerciseHTML(prompt) {
            return `
                <div class="writing-prompt">
                    <h4>âœ¨ ${prompt.theme}</h4>
                    <p style="font-size: 16px; margin: 10px 0;">${prompt.prompt}</p>
                </div>
                <textarea class="writing-textarea" id="writingArea" 
                          placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„åˆ›ä½œ...ï¼ˆå»ºè®®300-500å­—ï¼‰"></textarea>
                <div style="display: flex; gap: 10px;">
                    <button class="submit-btn" onclick="saveWriting()">ğŸ’¾ ä¿å­˜è‰ç¨¿</button>
                    <button class="submit-btn" onclick="checkWriting()">âœ… æ ‡è®°å®Œæˆ</button>
                </div>
                <div class="answer-section" id="writingSection">
                    <div class="answer-title">ğŸ‰ å†™ä½œå®Œæˆï¼</div>
                    <p>ä½ çš„åˆ›ä½œå·²ä¿å­˜ã€‚åšæŒå†™ä½œæ˜¯æé«˜è¯­è¨€èƒ½åŠ›çš„é‡è¦é€”å¾„ï¼</p>
                    <p>å»ºè®®ï¼šå¯ä»¥åˆ†äº«ç»™ä½ çš„è¯­è¨€å­¦ä¹ ä¼™ä¼´ï¼Œäº’ç›¸ç‚¹è¯„æé«˜ã€‚</p>
                </div>
            `;
        }

        // æ£€æŸ¥é€‰æ‹©é¢˜ç­”æ¡ˆ
        function checkAnswer(language, selectedIndex) {
            const exercise = language === 'japanese' ? window.currentJapaneseExercise : window.currentFrenchExercise;
            const options = document.querySelectorAll('.option');
            
            options.forEach((option, index) => {
                option.classList.add('disabled');
                if (index === exercise.correct) {
                    option.classList.add('correct');
                } else if (index === selectedIndex) {
                    option.classList.add('incorrect');
                }
            });

            document.getElementById('answerSection').classList.add('show');

            if (selectedIndex === exercise.correct) {
                markAsChecked();
            }
        }

        // æäº¤è¾“å…¥é¢˜ç­”æ¡ˆ
        function submitInputAnswer(language) {
            const userAnswer = document.getElementById('inputAnswer').value.trim();
            if (!userAnswer) {
                alert(language === 'japanese' ? 'è¯·è¾“å…¥ç­”æ¡ˆ' : 'Veuillez saisir une rÃ©ponse');
                return;
            }

            const exercise = language === 'japanese' ? window.currentJapaneseExercise : window.currentFrenchExercise;
            const keywords = exercise.keywords || [];
            
            // æ£€æŸ¥æ˜¯å¦åŒ…å«å…³é”®è¯
            const containsKeywords = keywords.length === 0 || keywords.some(keyword => 
                userAnswer.includes(keyword) || 
                exercise.answer.includes(userAnswer) ||
                userAnswer.includes(exercise.answer)
            );

            document.getElementById('answerSection').classList.add('show');
            
            if (containsKeywords && userAnswer.length > 10) {
                markAsChecked();
            }
        }

        // ä¿å­˜å†™ä½œ
        function saveWriting() {
            const content = document.getElementById('writingArea').value;
            if (content) {
                localStorage.setItem(`writing_${getDateKey(currentDate)}`, content);
                alert('è‰ç¨¿å·²ä¿å­˜ï¼');
            }
        }

        // æ£€æŸ¥å†™ä½œå®Œæˆ
        function checkWriting() {
            const content = document.getElementById('writingArea').value;
            if (content && content.length > 100) {
                document.getElementById('writingSection').classList.add('show');
                markAsChecked();
            } else {
                alert('è¯·è‡³å°‘å†™100å­—çš„å†…å®¹åå†æ ‡è®°å®Œæˆã€‚');
            }
        }

        // æ ‡è®°æ—¥æœŸä¸ºå·²æ‰“å¡
        function markAsChecked() {
            const dateKey = getDateKey(currentDate);
            if (!checkedDates[dateKey]) {
                checkedDates[dateKey] = true;
                localStorage.setItem('checkedDates2026', JSON.stringify(checkedDates));
                
                // æ›´æ–°UI
                updateProgress();
                generateMonthCalendar();
                
                // æ˜¾ç¤ºæˆåŠŸæç¤º
                showNotification('ğŸ‰ æ­å–œå®Œæˆä»Šæ—¥å­¦ä¹ ï¼');
            }
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const totalDays = Object.keys(checkedDates).length;
            const progress = Math.round((totalDays / 365) * 100);
            
            document.getElementById('checkedDays').textContent = totalDays;
            document.getElementById('completionRate').textContent = progress;
            document.getElementById('progressFill').style.width = `${progress}%`;
            
            // è®¡ç®—è¿ç»­æ‰“å¡å¤©æ•°
            let streak = 0;
            let checkDate = new Date();
            while (checkedDates[getDateKey(checkDate)]) {
                streak++;
                checkDate.setDate(checkDate.getDate() - 1);
            }
            document.getElementById('streakDays').textContent = streak;
        }

        // è·å–æ—¥æœŸé”®
        function getDateKey(date) {
            return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: #4CAF50;
                color: white;
                padding: 15px 25px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.2);
                z-index: 1000;
                font-size: 16px;
                animation: slideIn 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // æ·»åŠ æ»‘åŠ¨åŠ¨ç”»æ ·å¼
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);

        // é”®ç›˜å¯¼èˆª
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowLeft') {
                const prevDate = new Date(currentDate);
                prevDate.setDate(prevDate.getDate() - 1);
                if (prevDate.getFullYear() === 2026) {
                    selectDate(prevDate);
                }
            } else if (e.key === 'ArrowRight') {
                const nextDate = new Date(currentDate);
                nextDate.setDate(nextDate.getDate() + 1);
                if (nextDate.getFullYear() === 2026) {
                    selectDate(nextDate);
                }
            }
        });

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', initCalendar);

        // é˜²æ­¢æ„å¤–åˆ·æ–°ä¸¢å¤±æ•°æ®
        window.addEventListener('beforeunload', (e) => {
            const writingContent = document.getElementById('writingArea')?.value;
            if (writingContent && !checkedDates[getDateKey(currentDate)]) {
                e.preventDefault();
                e.returnValue = 'ä½ æœ‰æœªä¿å­˜çš„å†™ä½œå†…å®¹ï¼Œç¡®å®šè¦ç¦»å¼€å—ï¼Ÿ';
            }
        });
    </script>
</body>
</html>