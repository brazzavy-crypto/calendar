<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026å¹´å¤šåŠŸèƒ½å­¦ä¹ æ—¥å†</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #e0f2fe 0%, #ddd6fe 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        h1 { text-align: center; color: #312e81; margin-bottom: 30px; font-size: 2.5rem; }
        .sync-bar {
            text-align: center;
            margin-bottom: 20px;
            padding: 10px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .sync-btn {
            margin: 0 5px;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .export-btn { background: #10b981; color: white; }
        .export-btn:hover { background: #059669; }
        .import-btn { background: #3b82f6; color: white; }
        .import-btn:hover { background: #2563eb; }
        .today-btn { background: #f59e0b; color: white; }
        .today-btn:hover { background: #d97706; }
        .main-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .panel { background: white; border-radius: 15px; padding: 25px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .cal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .cal-header h2 { color: #1f2937; font-size: 1.5rem; }
        .nav-btn { background: #f3f4f6; border: none; font-size: 24px; cursor: pointer; padding: 8px 16px; border-radius: 8px; }
        .nav-btn:hover { background: #e5e7eb; }
        .weekdays { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; margin-bottom: 10px; }
        .weekday { text-align: center; font-weight: 600; color: #6b7280; padding: 10px; }
        .days { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
        .day {
            height: 50px;
            border: none;
            border-radius: 8px;
            background: #f9fafb;
            cursor: pointer;
            font-size: 16px;
        }
        .day:hover { background: #e0e7ff; }
        .day.selected { background: #4f46e5; color: white; }
        .day.completed { background: #10b981; color: white; position: relative; }
        .day.completed::after { content: 'âœ“'; position: absolute; top: 2px; right: 2px; font-size: 12px; }
        .day.empty { visibility: hidden; }
        .content { max-height: 800px; overflow-y: auto; }
        .empty-msg { text-align: center; padding: 100px 20px; color: #9ca3af; font-size: 1.2rem; }
        .section { padding: 15px; border-radius: 10px; margin-bottom: 20px; }
        .section h4 { margin-bottom: 10px; font-size: 1.1rem; }
        .date-header { border-bottom: 2px solid #e5e7eb; padding-bottom: 15px; margin-bottom: 20px; }
        .date-header h3 { color: #312e81; font-size: 1.5rem; margin-bottom: 8px; }
        .info { color: #6b7280; font-size: 0.95rem; margin: 5px 0; }
        .english { background: #dbeafe; } .english h4 { color: #1e40af; }
        .japanese { background: #fce7f3; } .japanese h4 { color: #be185d; }
        .french { background: #e9d5ff; } .french h4 { color: #7e22ce; }
        .exercise { background: #fef3c7; padding: 15px; border-radius: 10px; margin-bottom: 20px; }
        .exercise h4 { color: #92400e; margin-bottom: 10px; }
        .option { padding: 10px; margin: 8px 0; border-radius: 6px; background: white; cursor: pointer; border: 2px solid transparent; }
        .option:hover { background: #fef9c3; }
        .option.selected { background: #fde68a; border-color: #f59e0b; }
        .option.correct { background: #86efac; border-color: #22c55e; }
        .option.wrong { background: #fca5a5; border-color: #ef4444; }
        .btn { margin-top: 10px; padding: 10px 20px; border: none; border-radius: 6px; background: #f59e0b; color: white; cursor: pointer; font-size: 1rem; }
        .btn:hover { background: #d97706; }
        .btn2 { background: #10b981; }
        .btn2:hover { background: #059669; }
        .result { margin-top: 10px; font-size: 0.95rem; color: #6b7280; }
        .creative { background: #fed7aa; } .creative h4 { color: #9a3412; }
        .creative textarea, .sensual textarea { 
            width: 100%; 
            min-height: 150px; 
            padding: 10px; 
            border: 2px solid #e5e7eb; 
            border-radius: 6px; 
            font-size: 14px; 
            font-family: inherit;
            margin-top: 10px;
            resize: vertical;
        }
        .creative textarea:focus, .sensual textarea:focus {
            outline: none;
            border-color: #f59e0b;
        }
        .save-btn {
            margin-top: 10px;
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            background: #6b7280;
            color: white;
            cursor: pointer;
            font-size: 0.9rem;
        }
        .save-btn:hover { background: #4b5563; }
        .save-msg { margin-top: 5px; font-size: 0.9rem; color: #10b981; }
        .sensual { background: #fecaca; } .sensual h4 { color: #991b1b; }
        .sensual::before { content: 'ğŸ” '; }
        @media (max-width: 768px) { .main-grid { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="container">
        <h1>2026å¹´å¤šåŠŸèƒ½å­¦ä¹ æ—¥å†</h1>
        
        <div class="sync-bar">
            <button class="sync-btn today-btn" onclick="goToday()">ğŸ“… å›åˆ°ä»Šå¤©</button>
            <button class="sync-btn export-btn" onclick="exportData()">â¬‡ï¸ å¯¼å‡ºæ•°æ®</button>
            <button class="sync-btn import-btn" onclick="importData()">â¬†ï¸ å¯¼å…¥æ•°æ®</button>
            <input type="file" id="fileInput" style="display:none" accept=".json" onchange="handleFileSelect(event)">
        </div>
        
        <div class="main-grid">
            <div class="panel">
                <div class="cal-header">
                    <button class="nav-btn" onclick="prevMonth()">â—€</button>
                    <h2 id="month"></h2>
                    <button class="nav-btn" onclick="nextMonth()">â–¶</button>
                </div>
                <div class="weekdays">
                    <div class="weekday">æ—¥</div>
                    <div class="weekday">ä¸€</div>
                    <div class="weekday">äºŒ</div>
                    <div class="weekday">ä¸‰</div>
                    <div class="weekday">å››</div>
                    <div class="weekday">äº”</div>
                    <div class="weekday">å…­</div>
                </div>
                <div class="days" id="days"></div>
            </div>
            <div class="panel content" id="content">
                <div class="empty-msg">ç‚¹å‡»æ—¥å†é€‰æ‹©æ—¥æœŸæŸ¥çœ‹å†…å®¹</div>
            </div>
        </div>
    </div>

    <script>
        var year = 2026;
        var month = 0;
        var selected = null;
        var jpAns = null;
        var frAns = null;
        var jpShow = false;
        var frShow = false;
        var sShow = false;
        var completed = loadCompleted();
        
        function loadCompleted() {
            try {
                var saved = localStorage.getItem('calendar_completed');
                return saved ? JSON.parse(saved) : {};
            } catch(e) {
                return {};
            }
        }
        
        function saveCompleted() {
            try {
                localStorage.setItem('calendar_completed', JSON.stringify(completed));
            } catch(e) {}
        }

        var months = ['ä¸€æœˆ','äºŒæœˆ','ä¸‰æœˆ','å››æœˆ','äº”æœˆ','å…­æœˆ','ä¸ƒæœˆ','å…«æœˆ','ä¹æœˆ','åæœˆ','åä¸€æœˆ','åäºŒæœˆ'];
        var wkJP = ['æ—¥æ›œæ—¥(ã«ã¡ã‚ˆã†ã³)','æœˆæ›œæ—¥(ã’ã¤ã‚ˆã†ã³)','ç«æ›œæ—¥(ã‹ã‚ˆã†ã³)','æ°´æ›œæ—¥(ã™ã„ã‚ˆã†ã³)','æœ¨æ›œæ—¥(ã‚‚ãã‚ˆã†ã³)','é‡‘æ›œæ—¥(ãã‚“ã‚ˆã†ã³)','åœŸæ›œæ—¥(ã©ã‚ˆã†ã³)'];
        var wkFR = ['dimanche','lundi','mardi','mercredi','jeudi','vendredi','samedi'];

        var db = {
            e: [
                ['The only way to do great work is to love what you do.','Steve Jobs','åšå‡ºä¼Ÿå¤§å·¥ä½œçš„å”¯ä¸€æ–¹æ³•å°±æ˜¯çƒ­çˆ±ä½ æ‰€åšçš„äº‹ã€‚'],
                ['Life is what happens when you are busy making other plans.','John Lennon','ç”Ÿæ´»å°±æ˜¯å½“ä½ å¿™äºåˆ¶å®šå…¶ä»–è®¡åˆ’æ—¶å‘ç”Ÿçš„äº‹æƒ…ã€‚'],
                ['Get busy living or get busy dying.','Shawshank Redemption','è¦ä¹ˆå¿™äºç”Ÿå­˜ï¼Œè¦ä¹ˆèµ¶ç€å»æ­»ã€‚'],
                ['May the Force be with you.','Star Wars','æ„¿åŸåŠ›ä¸ä½ åŒåœ¨ã€‚'],
                ['In the middle of difficulty lies opportunity.','Albert Einstein','åœ¨å›°éš¾çš„ä¸­å¿ƒè•´è—ç€æœºä¼šã€‚'],
                ['The future belongs to those who believe in the beauty of their dreams.','Eleanor Roosevelt','æœªæ¥å±äºé‚£äº›ç›¸ä¿¡æ¢¦æƒ³ä¹‹ç¾çš„äººã€‚'],
                ['It does not matter how slowly you go as long as you do not stop.','Confucius','åªè¦ä¸åœä¸‹è„šæ­¥ï¼Œèµ°å¾—å¤šæ…¢éƒ½æ²¡å…³ç³»ã€‚'],
                ['Everything you can imagine is real.','Pablo Picasso','ä½ èƒ½æƒ³è±¡çš„ä¸€åˆ‡éƒ½æ˜¯çœŸå®çš„ã€‚'],
                ['The only impossible journey is the one you never begin.','Tony Robbins','å”¯ä¸€ä¸å¯èƒ½çš„æ—…ç¨‹æ˜¯ä½ ä»æœªå¼€å§‹çš„é‚£ä¸ªã€‚'],
                ['To live is the rarest thing in the world.','Oscar Wilde','æ´»ç€æ˜¯ä¸–ç•Œä¸Šæœ€ç¨€æœ‰çš„äº‹æƒ…ã€‚'],
                ['Dream big and dare to fail.','Norman Vaughan','æ•¢äºæ¢¦æƒ³ï¼Œæ•¢äºå¤±è´¥ã€‚'],
                ['What we think, we become.','Buddha','æˆ‘ä»¬æƒ³ä»€ä¹ˆï¼Œå°±ä¼šæˆä¸ºä»€ä¹ˆã€‚'],
                ['The best time to plant a tree was 20 years ago. The second best time is now.','Chinese Proverb','ç§æ ‘æœ€å¥½çš„æ—¶é—´æ˜¯20å¹´å‰ï¼Œå…¶æ¬¡æ˜¯ç°åœ¨ã€‚'],
                ['Do not wait for opportunity. Create it.','George Bernard Shaw','ä¸è¦ç­‰å¾…æœºä¼šï¼Œå»åˆ›é€ å®ƒã€‚'],
                ['Success is not final, failure is not fatal.','Winston Churchill','æˆåŠŸä¸æ˜¯ç»ˆç‚¹ï¼Œå¤±è´¥ä¹Ÿä¸æ˜¯è‡´å‘½çš„ã€‚'],
                ['Believe you can and you are halfway there.','Theodore Roosevelt','ç›¸ä¿¡ä½ èƒ½åšåˆ°ï¼Œä½ å°±å·²ç»æˆåŠŸäº†ä¸€åŠã€‚'],
                ['Act as if what you do makes a difference. It does.','William James','è¦è¡¨ç°å¾—å¥½åƒä½ åšçš„äº‹æƒ…èƒ½æ”¹å˜ä¸–ç•Œï¼Œäº‹å®ä¹Ÿæ˜¯å¦‚æ­¤ã€‚'],
                ['The way to get started is to quit talking and begin doing.','Walt Disney','å¼€å§‹çš„æ–¹æ³•å°±æ˜¯åœæ­¢ç©ºè°ˆï¼Œå¼€å§‹è¡ŒåŠ¨ã€‚'],
                ['If you are going through hell, keep going.','Winston Churchill','å¦‚æœä½ æ­£åœ¨ç»å†åœ°ç‹±ï¼Œé‚£å°±ç»§ç»­å‰è¿›ã€‚'],
                ['Everything has beauty, but not everyone can see.','Confucius','ä¸‡ç‰©çš†æœ‰ç¾ï¼Œä½†ä¸æ˜¯æ¯ä¸ªäººéƒ½èƒ½çœ‹è§ã€‚'],
                ['Change your thoughts and you change your world.','Norman Vincent Peale','æ”¹å˜ä½ çš„æƒ³æ³•ï¼Œä½ å°±æ”¹å˜äº†ä½ çš„ä¸–ç•Œã€‚'],
                ['The only person you are destined to become is the person you decide to be.','Ralph Waldo Emerson','ä½ æ³¨å®šæˆä¸ºçš„äººï¼Œæ˜¯ä½ å†³å®šæˆä¸ºçš„äººã€‚'],
                ['Go confidently in the direction of your dreams.','Henry David Thoreau','æ»¡æ€€ä¿¡å¿ƒåœ°æœç€æ¢¦æƒ³å‰è¿›ã€‚'],
                ['You are never too old to set another goal.','C.S. Lewis','ä½ æ°¸è¿œä¸ä¼šè€åˆ°æ— æ³•è®¾å®šæ–°ç›®æ ‡ã€‚'],
                ['To be yourself in a world that is constantly trying to make you something else is the greatest accomplishment.','Ralph Waldo Emerson','åœ¨ä¸€ä¸ªä¸æ–­è¯•å›¾æ”¹å˜ä½ çš„ä¸–ç•Œé‡Œåšä½ è‡ªå·±ï¼Œæ˜¯æœ€ä¼Ÿå¤§çš„æˆå°±ã€‚'],
                ['Happiness is not something ready made. It comes from your own actions.','Dalai Lama','å¹¸ç¦ä¸æ˜¯ç°æˆçš„ä¸œè¥¿ï¼Œå®ƒæ¥è‡ªä½ è‡ªå·±çš„è¡ŒåŠ¨ã€‚'],
                ['Life is 10% what happens to you and 90% how you react to it.','Charles R. Swindoll','ç”Ÿæ´»10%å–å†³äºå‘ç”Ÿåœ¨ä½ èº«ä¸Šçš„äº‹ï¼Œ90%å–å†³äºä½ å¦‚ä½•åº”å¯¹ã€‚'],
                ['Keep your face always toward the sunshine and shadows will fall behind you.','Walt Whitman','å§‹ç»ˆé¢å‘é˜³å…‰ï¼Œé˜´å½±å°±ä¼šè½åœ¨ä½ èº«åã€‚'],
                ['The best revenge is massive success.','Frank Sinatra','æœ€å¥½çš„æŠ¥å¤å°±æ˜¯å·¨å¤§çš„æˆåŠŸã€‚'],
                ['Do what you can with all you have wherever you are.','Theodore Roosevelt','ç”¨ä½ æ‰€æœ‰çš„ä¸€åˆ‡ï¼Œåœ¨ä»»ä½•åœ°æ–¹åšä½ èƒ½åšçš„äº‹ã€‚']
            ],
            j: [
                ['åƒé‡Œ(ã›ã‚“ã‚Š)ã®é“(ã¿ã¡)ã‚‚ä¸€æ­©(ã„ã£ã½)ã‹ã‚‰','è€å­(ã‚ã†ã—)','åƒé‡Œä¹‹è¡Œï¼Œå§‹äºè¶³ä¸‹ã€‚'],
                ['äººç”Ÿ(ã˜ã‚“ã›ã„)ã¯å†’é™º(ã¼ã†ã‘ã‚“)ã‹ã€ãã‚Œã¨ã‚‚ç„¡(ã‚€)ã‹','ãƒ˜ãƒ¬ãƒ³ãƒ»ã‚±ãƒ©ãƒ¼','äººç”Ÿè¦ä¹ˆæ˜¯ä¸€åœºå†’é™©ï¼Œè¦ä¹ˆä»€ä¹ˆéƒ½ä¸æ˜¯ã€‚'],
                ['è«¦(ã‚ãã‚‰)ã‚ãŸã‚‰ãã“ã§è©¦åˆçµ‚äº†(ã—ã‚ã„ã—ã‚…ã†ã‚Šã‚‡ã†)ã§ã™ã‚ˆ','ã‚¹ãƒ©ãƒ ãƒ€ãƒ³ã‚¯','ä¸€æ—¦æ”¾å¼ƒï¼Œæ¯”èµ›å°±ç»“æŸäº†ã€‚'],
                ['ä¸ƒè»¢(ãªãªã“ã‚)ã³å…«èµ·(ã‚„ãŠ)ã','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','ä¸ƒæ¬¡è·Œå€’ï¼Œå…«æ¬¡ç«™èµ·ã€‚'],
                ['ä¸€æœŸä¸€ä¼š(ã„ã¡ã”ã„ã¡ãˆ)','åƒåˆ©ä¼‘(ã›ã‚“ã®ã‚Šãã‚…ã†)','ä¸€ç”Ÿä¸€æ¬¡çš„ç›¸ä¼šã€‚'],
                ['ç¶™ç¶š(ã‘ã„ãã)ã¯åŠ›(ã¡ã‹ã‚‰)ãªã‚Š','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','åšæŒå°±æ˜¯åŠ›é‡ã€‚'],
                ['å¥½(ã™)ãã“ãã‚‚ã®ã®ä¸Šæ‰‹(ã˜ã‚‡ã†ãš)ãªã‚Œ','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','å–œæ¬¢æ˜¯æœ€å¥½çš„è€å¸ˆã€‚'],
                ['æ€¥(ã„ã)ãŒã°å›(ã¾ã‚)ã‚Œ','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','æ¬²é€Ÿåˆ™ä¸è¾¾ã€‚'],
                ['ç¬‘(ã‚ã‚‰)ã†é–€(ã‹ã©)ã«ã¯ç¦(ãµã)æ¥(ããŸ)ã‚‹','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','ç¬‘é—¨æ¥ç¦ã€‚'],
                ['æ™‚(ã¨ã)ã¯é‡‘(ã‹ã­)ãªã‚Š','ãƒ™ãƒ³ã‚¸ãƒ£ãƒŸãƒ³ãƒ»ãƒ•ãƒ©ãƒ³ã‚¯ãƒªãƒ³','æ—¶é—´å°±æ˜¯é‡‘é’±ã€‚'],
                ['æ˜æ—¥(ã‚ã—ãŸ)ã¯æ˜æ—¥(ã‚ã—ãŸ)ã®é¢¨(ã‹ãœ)ãŒå¹(ãµ)ã','é¢¨(ã‹ãœ)ã¨å…±(ã¨ã‚‚)ã«å»(ã•)ã‚Šã¬','æ˜å¤©è‡ªæœ‰æ˜å¤©çš„é£ã€‚'],
                ['ç‚º(ãª)ã›ã°æˆ(ãª)ã‚‹','ä¸Šæ‰é·¹å±±(ã†ãˆã™ãã‚ˆã†ã–ã‚“)','æœ‰å¿—è€…äº‹ç«Ÿæˆã€‚'],
                ['çŸ³(ã„ã—)ã®ä¸Š(ã†ãˆ)ã«ã‚‚ä¸‰å¹´(ã•ã‚“ã­ã‚“)','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','åçŸ³ä¸‰å¹´çƒ­ã€‚'],
                ['å…‰é™°çŸ¢(ã“ã†ã„ã‚“ã‚„)ã®å¦‚(ã”ã¨)ã—','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','å…‰é˜´ä¼¼ç®­ã€‚'],
                ['å¡µ(ã¡ã‚Š)ã‚‚ç©(ã¤)ã‚‚ã‚Œã°å±±(ã‚„ã¾)ã¨ãªã‚‹','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','ç§¯å°‘æˆå¤šã€‚'],
                ['å¤±æ•—(ã—ã£ã±ã„)ã¯æˆåŠŸ(ã›ã„ã“ã†)ã®ã‚‚ã¨','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','å¤±è´¥æ˜¯æˆåŠŸä¹‹æ¯ã€‚'],
                ['ä¸‰äººå¯„(ã•ã‚“ã«ã‚“ã‚ˆ)ã‚Œã°æ–‡æ®Š(ã‚‚ã‚“ã˜ã‚…)ã®çŸ¥æµ(ã¡ãˆ)','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','ä¸‰ä¸ªè‡­çš®åŒ é¡¶ä¸ªè¯¸è‘›äº®ã€‚'],
                ['äº•(ã„)ã®ä¸­(ãªã‹)ã®è›™(ã‹ã‚ãš)','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','äº•åº•ä¹‹è›™ã€‚'],
                ['çŒ¿(ã•ã‚‹)ã‚‚æœ¨(ã)ã‹ã‚‰è½(ãŠ)ã¡ã‚‹','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','æ™ºè€…åƒè™‘å¿…æœ‰ä¸€å¤±ã€‚'],
                ['å‡º(ã§)ã‚‹æ­(ãã„)ã¯æ‰“(ã†)ãŸã‚Œã‚‹','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','æªæ‰“å‡ºå¤´é¸Ÿã€‚'],
                ['æƒ…(ãªã•)ã‘ã¯äºº(ã²ã¨)ã®ç‚º(ãŸã‚)ãªã‚‰ãš','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','ä¸äººæ–¹ä¾¿ä¸å·±æ–¹ä¾¿ã€‚'],
                ['èŠ±(ã¯ãª)ã‚ˆã‚Šå›£å­(ã ã‚“ã”)','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','å®æƒ èƒœè¿‡è™šåã€‚'],
                ['è“¼(ãŸã§)é£Ÿ(ã)ã†è™«(ã‚€ã—)ã‚‚å¥½(ã™)ãå¥½(ãš)ã','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','èåœé’èœå„æœ‰æ‰€çˆ±ã€‚'],
                ['é¬¼(ãŠã«)ã«é‡‘æ£’(ã‹ãªã¼ã†)','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','å¦‚è™æ·»ç¿¼ã€‚'],
                ['é¦¬(ã†ã¾)ã®è€³(ã¿ã¿)ã«å¿µä»(ã­ã‚“ã¶ã¤)','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','å¯¹ç‰›å¼¹ç´ã€‚'],
                ['è¦†æ°´ç›†(ãµãã™ã„ã¼ã‚“)ã«è¿”(ã‹ãˆ)ã‚‰ãš','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','è¦†æ°´éš¾æ”¶ã€‚'],
                ['è™ç©´(ã“ã‘ã¤)ã«å…¥(ã„)ã‚‰ãšã‚“ã°è™å­(ã“ã˜)ã‚’å¾—(ãˆ)ãš','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','ä¸å…¥è™ç©´ç„‰å¾—è™å­ã€‚'],
                ['èƒ½(ã‚ˆ)ãå­¦(ã¾ãª)ã³èƒ½(ã‚ˆ)ãéŠ(ã‚ã)ã¹','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','å­¦ä¹ å·¥ä½œä¸¤ä¸è¯¯ã€‚'],
                ['äººé–“ä¸‡äº‹å¡ç¿(ã«ã‚“ã’ã‚“ã°ã‚“ã˜ã•ã„ãŠã†)ãŒé¦¬(ã†ã¾)','ä¸­å›½(ã¡ã‚…ã†ã”ã)ã®æ•…äº‹(ã“ã˜)','å¡ç¿å¤±é©¬ç„‰çŸ¥éç¦ã€‚'],
                ['é›¨é™(ã‚ã‚ãµ)ã£ã¦åœ°å›º(ã˜ã‹ãŸ)ã¾ã‚‹','æ—¥æœ¬(ã«ã»ã‚“)ã®ã“ã¨ã‚ã–','é›¨è¿‡å¤©æ™´ã€‚']
            ],
            f: [
                ['La vie est belle.','Proverbe francais','ç”Ÿæ´»æ˜¯ç¾å¥½çš„ã€‚'],
                ['Tout est bien qui finit bien.','Shakespeare','ç»“å±€å¥½å°±ä¸€åˆ‡éƒ½å¥½ã€‚'],
                ['Je pense, donc je suis.','Descartes','æˆ‘æ€æ•…æˆ‘åœ¨ã€‚'],
                ['C est la vie.','Expression francaise','è¿™å°±æ˜¯ç”Ÿæ´»ã€‚'],
                ['Qui vivra verra.','Proverbe francais','æ´»ç€å°±èƒ½çœ‹åˆ°ã€‚'],
                ['Petit a petit, l oiseau fait son nid.','Proverbe francais','é¸Ÿå„¿ä¸€ç‚¹ä¸€ç‚¹ç­‘å·¢ã€‚'],
                ['Vouloir c est pouvoir.','Proverbe francais','æœ‰å¿—è€…äº‹ç«Ÿæˆã€‚'],
                ['L amour est aveugle.','Proverbe','çˆ±æƒ…æ˜¯ç›²ç›®çš„ã€‚'],
                ['Le temps c est de l argent.','Benjamin Franklin','æ—¶é—´å°±æ˜¯é‡‘é’±ã€‚'],
                ['Qui ne tente rien n a rien.','Proverbe francais','ä¸å°è¯•å°±æ²¡æœ‰æ”¶è·ã€‚'],
                ['L homme propose, Dieu dispose.','Proverbe','è°‹äº‹åœ¨äººæˆäº‹åœ¨å¤©ã€‚'],
                ['Il n y a que le premier pas qui coute.','Proverbe francais','ä¸‡äº‹å¼€å¤´éš¾ã€‚'],
                ['Aide-toi, le ciel t aidera.','Proverbe francais','è‡ªåŠ©è€…å¤©åŠ©ã€‚'],
                ['Rome ne s est pas faite en un jour.','Proverbe francais','ç½—é©¬ä¸æ˜¯ä¸€å¤©å»ºæˆçš„ã€‚'],
                ['Rira bien qui rira le dernier.','Proverbe francais','ç¬‘åˆ°æœ€åçš„äººç¬‘å¾—æœ€å¥½ã€‚'],
                ['La patience est la cle du paradis.','Proverbe francais','è€å¿ƒæ˜¯é€šå¾€å¤©å ‚çš„é’¥åŒ™ã€‚'],
                ['L appetit vient en mangeant.','Proverbe francais','é£Ÿæ¬²åœ¨åƒä¸­äº§ç”Ÿã€‚'],
                ['Chat echaude craint l eau froide.','Proverbe francais','ä¸€æœè¢«è›‡å’¬åå¹´æ€•äº•ç»³ã€‚'],
                ['Il faut battre le fer pendant qu il est chaud.','Proverbe francais','è¶çƒ­æ‰“é“ã€‚'],
                ['Qui ne risque rien n a rien.','Proverbe francais','ä¸å†’é™©å°±æ²¡æœ‰æ”¶è·ã€‚'],
                ['L union fait la force.','Proverbe francais','å›¢ç»“å°±æ˜¯åŠ›é‡ã€‚'],
                ['Chacun voit midi a sa porte.','Proverbe francais','å„äººè‡ªæ‰«é—¨å‰é›ªã€‚'],
                ['Les murs ont des oreilles.','Proverbe francais','éš”å¢™æœ‰è€³ã€‚'],
                ['L habit ne fait pas le moine.','Proverbe francais','äººä¸å¯è²Œç›¸ã€‚'],
                ['Apres la pluie, le beau temps.','Proverbe francais','é›¨è¿‡å¤©æ™´ã€‚'],
                ['Mieux vaut tard que jamais.','Proverbe francais','è¿Ÿåšæ€»æ¯”ä¸åšå¥½ã€‚'],
                ['L occasion fait le larron.','Proverbe francais','æœºä¼šé€ å°±å°å·ã€‚'],
                ['On ne fait pas d omelette sans casser des oeufs.','Proverbe francais','ä¸æ‰“ç ´é¸¡è›‹åšä¸æˆç…è›‹ã€‚'],
                ['Qui cherche trouve.','Proverbe francais','æœ‰å¿—è€…äº‹ç«Ÿæˆã€‚'],
                ['Loin des yeux, loin du coeur.','Proverbe francais','çœ¼ä¸è§å¿ƒä¸çƒ¦ã€‚']
            ],
            je: [
                ['å½¼(ã‹ã‚Œ)ã¯___é ‘å¼µ(ãŒã‚“ã°)ã£ã¦ã„ã‚‹ã®ã«ã€æˆç¸¾(ã›ã„ã›ã)ãŒä¸Š(ã‚)ãŒã‚‰ãªã„ã€‚',['ã‚ã‚“ãªã«','ãã‚“ãªã«','ã“ã‚“ãªã«'],0,'N3'],
                ['1æ™‚é–“(ã˜ã‹ã‚“)å‹‰å¼·(ã¹ã‚“ãã‚‡ã†)ã—ãŸ___ã€ã™ãå¿˜(ã‚ã™)ã‚Œã¦ã—ã¾ã£ãŸã€‚',['ã‚‚ã®ã®','ã‚‚ã®ã‚’','ã‚‚ã®ã‹'],0,'N2'],
                ['å…ˆç”Ÿ(ã›ã‚“ã›ã„)ãŒãŠè¦‹(ã¿)ãˆã«___ã€‚',['ãªã£ãŸ','ãªã‚‰ã‚ŒãŸ','ãªã‚Šã¾ã—ãŸ'],0,'N1']
            ],
            fe: [
                ['Je vais ___ Paris demain.',['a','en','au'],0,'B1'],
                ['Si j ___ riche, je voyagerais.',['etais','serais','suis'],0,'B1'],
                ['Il faut que tu ___ a l heure.',['viens','viennes','viendrais'],1,'B2']
            ],
            c: [
                'å†™ä¸€ä¸ªå…³äºæ—¶é—´æ—…è¡Œè€…åœ¨2026å¹´å‘ç°çš„ç§˜å¯†ï¼ˆ200å­—ï¼‰',
                'ç”¨"é•œå­"ã€"å›å£°"ã€"é’¥åŒ™"ä¸‰ä¸ªè¯åˆ›ä½œä¸€ä¸ªå¾®å‹æ•…äº‹',
                'æè¿°ä¸€ä¸ªåªå­˜åœ¨äºæ¢¦ä¸­çš„åŸå¸‚',
                'å†™ä¸€å°æ¥è‡ªæœªæ¥çš„è‡ªå·±ç»™ç°åœ¨çš„è‡ªå·±çš„ä¿¡',
                'åˆ›ä½œä¸€é¦–å…³äºæ•°å­—åŒ–è®°å¿†çš„ç°ä»£è¯—',
                'æƒ³è±¡ä¸€ä¸ªç‰©å“çªç„¶æœ‰äº†ç”Ÿå‘½ï¼Œå†™ä¸‹å®ƒçš„ç¬¬ä¸€å¤©',
                'ç”¨100å­—æè¿°ä¸€åœºæ— å£°çš„å‘Šåˆ«',
                'åˆ›ä½œä¸€ä¸ªå¼€å¤´æ˜¯"å¦‚æœæ—¶é—´å¯ä»¥å€’æµ"çš„æ•…äº‹',
                'æå†™ä¸€ä¸ªè¢«é—å¿˜åœ¨è§’è½çš„è€ç‰©ä»¶çš„ç‹¬ç™½',
                'å†™ä¸€æ®µå…³äºé›¨çš„æ„è¯†æµæ–‡å­—',
                'åˆ›ä½œä¸€ä¸ª"å¹³è¡Œå®‡å®™ä¸­çš„å¦ä¸€ä¸ªæˆ‘"çš„æ•…äº‹',
                'ç”¨"çº¢è‰²"ã€"å¯‚é™"ã€"å‘¼å¸"ä¸‰ä¸ªè¯å†™ä¸€ä¸ªç‰‡æ®µ',
                'æè¿°ä¸€ä¸ªäººç”Ÿå‘½ä¸­æœ€åä¸€å¤©çš„24å°æ—¶',
                'å†™ä¸€ä¸ªå…³äºAIè§‰é†’çš„ç§‘å¹»çŸ­ç¯‡',
                'åˆ›ä½œä¸€æ®µ"å¦‚æœåŠ¨ç‰©èƒ½è¯´è¯"çš„å¯¹è¯',
                'ç”¨ç¬¬äºŒäººç§°å†™ä¸€æ®µå…³äºå¤±çœ çš„æ–‡å­—',
                'æå†™ä¸€ä¸ªåºŸå¼ƒæ¸¸ä¹å›­çš„å¤œæ™š',
                'åˆ›ä½œä¸€ä¸ª"äº¤æ¢èº«ä½“"é¢˜æçš„æ•…äº‹å¼€å¤´',
                'å†™ä¸€æ®µå…³äº"æ¶ˆå¤±çš„è®°å¿†"çš„æ‚¬ç–‘ç‰‡æ®µ',
                'ç”¨"å…‰"ã€"å½±"ã€"ç­‰å¾…"åˆ›ä½œä¸€é¦–æ•£æ–‡è¯—',
                'æè¿°ä¸€æ¬¡è¶…ç°å®çš„æ¢¦å¢ƒä½“éªŒ',
                'å†™ä¸€ä¸ªå…³äº"æœ€åä¸€ä¸ªäººç±»"çš„æ•…äº‹',
                'åˆ›ä½œä¸€æ®µæ—¶é—´é™æ­¢åçš„åœºæ™¯æå†™',
                'ç”¨ä¹¦ä¿¡ä½“å†™ä¸€å°æ°¸è¿œå¯„ä¸å‡ºçš„ä¿¡',
                'æå†™ä¸€ä¸ªäººç¬¬ä¸€æ¬¡çœ‹è§æµ·çš„æ„Ÿå—',
                'åˆ›ä½œä¸€ä¸ª"å¦‚æœé‡æ–°æ¥è¿‡"çš„äººç”Ÿç‰‡æ®µ',
                'å†™ä¸€æ®µå…³äºå­¤ç‹¬çš„å¿ƒç†æå†™',
                'æè¿°ä¸€æ¬¡çµé­‚å‡ºçªçš„ä½“éªŒ',
                'åˆ›ä½œä¸€ä¸ªç«¥è¯çš„é»‘æš—ç‰ˆæœ¬',
                'ç”¨"ç»ç’ƒ"ã€"è£‚ç—•"ã€"çœŸç›¸"å†™ä¸€ä¸ªæ‚¬å¿µæ•…äº‹'
            ],
            s: [
                'å†™ä¸€æ®µåˆå¤œåœºæ™¯ï¼šé‡ç‚¹æå†™äººç‰©çš„å†…å¿ƒç‹¬ç™½å’Œèº«ä½“ååº”ï¼ˆ300å­—ï¼‰',
                'æå†™ä¸€æ¬¡å……æ»¡å¼ åŠ›çš„èº«ä½“æ¥è§¦ï¼šä»è¯•æ¢åˆ°çªç ´ç•Œé™çš„è¿‡ç¨‹',
                'ç”¨ç¬¬ä¸€äººç§°å†™ä¸€æ®µå·çª¥è§†è§’çš„æ€§å¹»æƒ³åœºæ™¯',
                'å†™ä¸€æ®µåŠå…¬å®¤ç¦å¿Œï¼šä¸Šå¸ä¸ä¸‹å±çš„è¶Šç•Œæ—¶åˆ»',
                'æå†™ä¸€æ¬¡é…’åä¹±æ€§çš„ç‰‡æ®µï¼šä»å¤±æ§åˆ°æ¸…é†’',
                'ç”¨ç»†è…»ç¬”è§¦åˆ»ç”»åšçˆ±è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªé«˜æ½®ç¬é—´',
                'å†™ä¸€æ®µthreesomeåœºæ™¯ï¼šä¸‰äººä¹‹é—´çš„æ¬²æœ›çº è‘›',
                'åˆ›ä½œé™Œç”Ÿäººä¸€å¤œæƒ…çš„å®Œæ•´è¿‡ç¨‹ï¼ˆä»æ­è®ªåˆ°äº‹åï¼‰',
                'æå†™å‡ºè½¨åœºæ™¯ï¼šèƒŒå›çš„åˆºæ¿€æ„Ÿä¸è´Ÿç½ªæ„Ÿäº¤ç»‡',
                'å†™ä¸€æ®µæµ´å®¤æ€§çˆ±ï¼šæ°´ã€é•œå­ã€è’¸æ±½è¥é€ çš„æ°›å›´',
                'ç”¨æš—ç¤ºæ€§è¯­è¨€æå†™å£äº¤åœºæ™¯ï¼ˆé¿å…ç²—ä¿—ç”¨è¯ï¼‰',
                'å†™ä¸€ä¸ªæ¸…çº¯å¤–è¡¨ä¸‹çš„æ”¾è¡å†…å¿ƒç‹¬ç™½',
                'æå†™å¤±å»ç«¥è´çš„è¯¦ç»†ç»è¿‡ï¼šç—›æ„Ÿä¸å¿«æ„Ÿå¹¶å­˜',
                'åˆ›ä½œç¾¤äº¤æ´¾å¯¹åœºæ™¯ï¼šå¤šäººäº’åŠ¨çš„æ··ä¹±ä¸ç‹‚æ¬¢',
                'å†™ä¸€æ®µå·æƒ…è¢«å‘ç°å‰çš„æƒŠé™©æ—¶åˆ»',
                'æå†™æ€§ç˜¾è€…çš„ä¸€å¤©ï¼šæ— æ³•æŠ‘åˆ¶çš„ç”Ÿç†å†²åŠ¨',
                'ç”¨æ—¥è®°ä½“å†™ä¸€æ®µæ€§è§‰é†’çš„é’æ˜¥æœŸä½“éªŒ',
                'åˆ›ä½œä¸€æ®µè½¦å†…æ€§çˆ±çš„åœºæ™¯æå†™',
                'å†™ä¸€æ®µå…³äºæ€§æ¢¦çš„è¯¦ç»†æè¿°ï¼ˆé†’æ¥åçš„ä½™éŸµï¼‰',
                'æå†™ä¸€æ¬¡æ¸…æ™¨åšçˆ±çš„æ…µæ‡’æ—¶å…‰',
                'åˆ›ä½œä¸€æ®µå¸ˆç”Ÿæ‹çš„ç¦å¿Œæ€§çˆ±åœºæ™¯',
                'å†™ä¸€æ®µåœ¨å…¬å…±åœºæ‰€å·æ¬¢çš„åˆºæ¿€ä½“éªŒ',
                'æå†™ç¬¬ä¸€æ¬¡ä¸»åŠ¨å‹¾å¼•å¯¹æ–¹çš„å¿ƒç†æ´»åŠ¨',
                'åˆ›ä½œä¸€æ®µå…³äºè‡ªæ…°çš„ç»†è…»å¿ƒç†æå†™',
                'å†™ä¸€æ®µå¼‚åœ°æ‹é‡é€¢åçš„æ¿€æƒ…åœºæ™¯',
                'æå†™ä¸€æ¬¡è§’è‰²æ‰®æ¼”æ€§çˆ±çš„å®Œæ•´è¿‡ç¨‹',
                'åˆ›ä½œä¸€æ®µå…³äºèº«ä½“æ¢ç´¢çš„æ„Ÿå®˜æå†™',
                'å†™ä¸€æ®µè¢«å·æ‹æ€§çˆ±è§†é¢‘åçš„ç¾è€»ä¸å…´å¥‹',
                'æå†™ä¸€æ¬¡é…’åº—å¼€æˆ¿çš„ä»è¿›é—¨åˆ°é«˜æ½®å…¨è¿‡ç¨‹',
                'åˆ›ä½œä¸€æ®µå…³äºæ€§å¹»æƒ³å¯¹è±¡æ˜¯ç†Ÿäººçš„å†…å¿ƒæŒ£æ‰',
                'å†™ä¸€æ®µæ·±å¤œç”µè¯æ€§çˆ±çš„å¯¹è¯æå†™'
            ]
        };

        function draw() {
            document.getElementById('month').textContent = year + 'å¹´ ' + months[month];
            var first = new Date(year, month, 1);
            var last = new Date(year, month + 1, 0);
            var total = last.getDate();
            var start = first.getDay();
            
            var html = '';
            for (var i = 0; i < start; i++) {
                html += '<div class="day empty"></div>';
            }
            for (var i = 1; i <= total; i++) {
                var dateKey = year + '-' + month + '-' + i;
                var completedClass = completed[dateKey] ? ' completed' : '';
                html += '<div class="day' + completedClass + '" onclick="pick(' + i + ')">' + i + '</div>';
            }
            document.getElementById('days').innerHTML = html;
        }

        function prevMonth() {
            month--;
            if (month < 0) { month = 11; year--; }
            selected = null;
            draw();
            document.getElementById('content').innerHTML = '<div class="empty-msg">ç‚¹å‡»æ—¥å†é€‰æ‹©æ—¥æœŸæŸ¥çœ‹å†…å®¹</div>';
        }

        function nextMonth() {
            month++;
            if (month > 11) { month = 0; year++; }
            selected = null;
            draw();
            document.getElementById('content').innerHTML = '<div class="empty-msg">ç‚¹å‡»æ—¥å†é€‰æ‹©æ—¥æœŸæŸ¥çœ‹å†…å®¹</div>';
        }

        function pick(d) {
            selected = new Date(year, month, d);
            jpAns = null;
            frAns = null;
            jpShow = false;
            frShow = false;
            sShow = false;
            
            var days = document.querySelectorAll('.day:not(.empty)');
            for (var i = 0; i < days.length; i++) {
                days[i].className = 'day';
            }
            days[d-1].className = 'day selected';
            
            show();
        }

        function seed() {
            var s = new Date(year, 0, 0);
            return Math.floor((selected - s) / 86400000);
        }

        function show() {
            var sd = seed();
            var w = ['æ™´å¤©','å¤šäº‘','é˜´å¤©','å°é›¨','æ™´æœ—'][(sd*7)%5];
            var e = db.e[sd % db.e.length];
            var j = db.j[sd % db.j.length];
            var f = db.f[sd % db.f.length];
            var je = db.je[sd % db.je.length];
            var fe = db.fe[sd % db.fe.length];
            var c = db.c[sd % db.c.length];
            var s = db.s[sd % db.s.length];
            
            var h = '<div class="date-header">';
            h += '<h3>' + year + 'å¹´' + (month+1) + 'æœˆ' + selected.getDate() + 'æ—¥</h3>';
            h += '<p class="info">' + wkJP[selected.getDay()] + ' / ' + wkFR[selected.getDay()] + '</p>';
            h += '<p class="info">å¤©æ°”ï¼š' + w + '</p></div>';
            
            h += '<div class="section english"><h4>ğŸ“– è‹±è¯­æ¯æ—¥ä¸€å¥</h4>';
            h += '<p style="font-style:italic;margin:10px 0">"' + e[0] + '"</p>';
            h += '<p style="font-size:0.9rem;color:#666">â€” ' + e[1] + '</p>';
            h += '<p style="font-size:0.9rem;color:#888;margin-top:8px">' + e[2] + '</p></div>';
            
            h += '<div class="section japanese"><h4>ğŸŒ æ—¥è¯­æ¯æ—¥ä¸€å¥</h4>';
            h += '<p style="margin:10px 0">' + j[0] + '</p>';
            h += '<p style="font-size:0.9rem;color:#666">â€” ' + j[1] + '</p>';
            h += '<p style="font-size:0.9rem;color:#888;margin-top:8px">' + j[2] + '</p></div>';
            
            h += '<div class="section french"><h4>ğŸ‡«ğŸ‡· æ³•è¯­æ¯æ—¥ä¸€å¥</h4>';
            h += '<p style="font-style:italic;margin:10px 0">"' + f[0] + '"</p>';
            h += '<p style="font-size:0.9rem;color:#666">â€” ' + f[1] + '</p>';
            h += '<p style="font-size:0.9rem;color:#888;margin-top:8px">' + f[2] + '</p></div>';
            
            h += '<div class="exercise"><h4>âœï¸ æ—¥è¯­ç»ƒä¹  (' + je[3] + ')</h4>';
            h += '<p style="margin-bottom:15px">' + je[0] + '</p>';
            h += '<div id="jo"></div>';
            h += '<button class="btn" onclick="checkJ()">æŸ¥çœ‹ç­”æ¡ˆ</button>';
            h += '<div id="jr" class="result"></div></div>';
            
            h += '<div class="exercise" style="background:#d1fae5"><h4 style="color:#065f46">ğŸ‡«ğŸ‡· æ³•è¯­ç»ƒä¹  (' + fe[3] + ')</h4>';
            h += '<p style="margin-bottom:15px">' + fe[0] + '</p>';
            h += '<div id="fo"></div>';
            h += '<button class="btn btn2" onclick="checkF()">æŸ¥çœ‹ç­”æ¡ˆ</button>';
            h += '<div id="fr" class="result"></div></div>';
            
            h += '<div class="section creative"><h4>âœ¨ åˆ›æ„å†™ä½œç»ƒä¹ </h4><p>' + c + '</p>';
            h += '<textarea id="ctext" placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„åˆ›æ„...">' + loadWriting('c') + '</textarea>';
            h += '<button class="save-btn" onclick="saveWriting(\'c\')">ä¿å­˜</button>';
            h += '<div id="cmsg" class="save-msg"></div></div>';
            
            h += '<div class="exercise" style="background:#fecaca">';
            h += '<button class="btn" style="background:#dc2626" onclick="showS()">æ˜¾ç¤ºç»ƒä¹ </button>';
            h += '<div id="sc" style="display:none;margin-top:15px;padding:15px;background:white;border-radius:8px"></div>';
            h += '<textarea id="stext" style="display:none;margin-top:15px" placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„ä½œå“...">' + loadWriting('s') + '</textarea>';
            h += '<button class="save-btn" id="sbtn" style="display:none" onclick="saveWriting(\'s\')">ä¿å­˜</button>';
            h += '<div id="smsg" class="save-msg"></div></div>';
            
            document.getElementById('content').innerHTML = h;
            
            opts('jo', je[1], 'j');
            opts('fo', fe[1], 'f');
        }

        function opts(id, arr, t) {
            var h = '';
            for (var i = 0; i < arr.length; i++) {
                h += '<div class="option" id="' + t + i + '" onclick="sel(\'' + t + '\',' + i + ')">' + (i+1) + '. ' + arr[i] + '</div>';
            }
            document.getElementById(id).innerHTML = h;
        }

        function sel(t, i) {
            if (t == 'j') {
                if (jpShow) return;
                jpAns = i;
                for (var k = 0; k < 3; k++) {
                    document.getElementById('j'+k).className = 'option' + (k==i?' selected':'');
                }
            } else {
                if (frShow) return;
                frAns = i;
                for (var k = 0; k < 3; k++) {
                    document.getElementById('f'+k).className = 'option' + (k==i?' selected':'');
                }
            }
        }

        function checkJ() {
            var sd = seed();
            var je = db.je[sd % db.je.length];
            jpShow = true;
            for (var i = 0; i < 3; i++) {
                var el = document.getElementById('j'+i);
                if (i == je[2]) el.className = 'option correct';
                else if (i == jpAns) el.className = 'option wrong';
            }
            document.getElementById('jr').textContent = jpAns == je[2] ? 'âœ“ æ­£ç¡®ï¼' : 'âœ— é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯é€‰é¡¹ ' + (je[2]+1);
            checkComplete();
        }

        function checkF() {
            var sd = seed();
            var fe = db.fe[sd % db.fe.length];
            frShow = true;
            for (var i = 0; i < 3; i++) {
                var el = document.getElementById('f'+i);
                if (i == fe[2]) el.className = 'option correct';
                else if (i == frAns) el.className = 'option wrong';
            }
            document.getElementById('fr').textContent = frAns == fe[2] ? 'âœ“ æ­£ç¡®ï¼' : 'âœ— é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯é€‰é¡¹ ' + (fe[2]+1);
            checkComplete();
        }

        function showS() {
            if (sShow) return;
            sShow = true;
            var sd = seed();
            var s = db.s[sd % db.s.length];
            document.getElementById('sc').innerHTML = s;
            document.getElementById('sc').style.display = 'block';
            document.getElementById('stext').style.display = 'block';
            document.getElementById('sbtn').style.display = 'inline-block';
            checkComplete();
        }

        function loadWriting(type) {
            try {
                var dateKey = year + '-' + month + '-' + selected.getDate();
                var key = 'writing_' + type + '_' + dateKey;
                return localStorage.getItem(key) || '';
            } catch(e) {
                return '';
            }
        }

        function saveWriting(type) {
            try {
                var dateKey = year + '-' + month + '-' + selected.getDate();
                var key = 'writing_' + type + '_' + dateKey;
                var text = document.getElementById(type + 'text').value;
                localStorage.setItem(key, text);
                document.getElementById(type + 'msg').textContent = 'âœ“ å·²ä¿å­˜';
                setTimeout(function() {
                    document.getElementById(type + 'msg').textContent = '';
                }, 2000);
            } catch(e) {
                document.getElementById(type + 'msg').textContent = 'âœ— ä¿å­˜å¤±è´¥';
            }
        }

        function checkComplete() {
            if (jpShow && frShow && sShow) {
                var dateKey = year + '-' + month + '-' + selected.getDate();
                completed[dateKey] = true;
                saveCompleted();
                draw();
            }
        }

        draw();
    </script>
</body>
</html>